var Tf=Object.create;var au=Object.defineProperty;var Mf=Object.getOwnPropertyDescriptor;var Cf=Object.getOwnPropertyNames;var If=Object.getPrototypeOf,Nf=Object.prototype.hasOwnProperty;var c=(r,t)=>()=>(t||r((t={exports:{}}).exports,t),t.exports);var Rf=(r,t,e,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of Cf(t))!Nf.call(r,i)&&i!==e&&au(r,i,{get:()=>t[i],enumerable:!(n=Mf(t,i))||n.enumerable});return r};var kf=(r,t,e)=>(e=r!=null?Tf(If(r)):{},Rf(t||!r||!r.__esModule?au(e,"default",{value:r,enumerable:!0}):e,r));var ue=c(tn=>{"use strict";Object.defineProperty(tn,"__esModule",{value:!0});function Vf(r){return typeof r=="function"}tn.isFunction=Vf});var Te=c(nn=>{"use strict";Object.defineProperty(nn,"__esModule",{value:!0});var rn=!1;nn.config={Promise:void 0,set useDeprecatedSynchronousErrorHandling(r){if(r){var t=new Error;console.warn(`DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: 
`+t.stack)}else rn&&console.log("RxJS: Back to a better error behavior. Thank you. <3");rn=r},get useDeprecatedSynchronousErrorHandling(){return rn}}});var vr=c(on=>{"use strict";Object.defineProperty(on,"__esModule",{value:!0});function Wf(r){setTimeout(function(){throw r},0)}on.hostReportError=Wf});var sn=c(un=>{"use strict";Object.defineProperty(un,"__esModule",{value:!0});var Ff=Te(),Df=vr();un.empty={closed:!0,next:function(r){},error:function(r){if(Ff.config.useDeprecatedSynchronousErrorHandling)throw r;Df.hostReportError(r)},complete:function(){}}});var g=c(cn=>{"use strict";Object.defineProperty(cn,"__esModule",{value:!0});cn.isArray=function(){return Array.isArray||function(r){return r&&typeof r.length=="number"}}()});var dr=c(an=>{"use strict";Object.defineProperty(an,"__esModule",{value:!0});function Uf(r){return r!==null&&typeof r=="object"}an.isObject=Uf});var ln=c(fn=>{"use strict";Object.defineProperty(fn,"__esModule",{value:!0});var Bf=function(){function r(t){return Error.call(this),this.message=t?t.length+` errors occurred during unsubscription:
`+t.map(function(e,n){return n+1+") "+e.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=t,this}return r.prototype=Object.create(Error.prototype),r}();fn.UnsubscriptionError=Bf});var O=c(pn=>{"use strict";Object.defineProperty(pn,"__esModule",{value:!0});var Lf=g(),zf=dr(),Gf=ue(),yr=ln(),Yf=function(){function r(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}return r.prototype.unsubscribe=function(){var t;if(!this.closed){var e=this,n=e._parentOrParents,i=e._ctorUnsubscribe,o=e._unsubscribe,u=e._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof r)n.remove(this);else if(n!==null)for(var s=0;s<n.length;++s){var f=n[s];f.remove(this)}if(Gf.isFunction(o)){i&&(this._unsubscribe=void 0);try{o.call(this)}catch(b){t=b instanceof yr.UnsubscriptionError?fu(b.errors):[b]}}if(Lf.isArray(u))for(var s=-1,a=u.length;++s<a;){var p=u[s];if(zf.isObject(p))try{p.unsubscribe()}catch(v){t=t||[],v instanceof yr.UnsubscriptionError?t=t.concat(fu(v.errors)):t.push(v)}}if(t)throw new yr.UnsubscriptionError(t)}},r.prototype.add=function(t){var e=t;if(!t)return r.EMPTY;switch(typeof t){case"function":e=new r(t);case"object":if(e===this||e.closed||typeof e.unsubscribe!="function")return e;if(this.closed)return e.unsubscribe(),e;if(!(e instanceof r)){var n=e;e=new r,e._subscriptions=[n]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}var i=e._parentOrParents;if(i===null)e._parentOrParents=this;else if(i instanceof r){if(i===this)return e;e._parentOrParents=[i,this]}else if(i.indexOf(this)===-1)i.push(this);else return e;var o=this._subscriptions;return o===null?this._subscriptions=[e]:o.push(e),e},r.prototype.remove=function(t){var e=this._subscriptions;if(e){var n=e.indexOf(t);n!==-1&&e.splice(n,1)}},r.EMPTY=function(t){return t.closed=!0,t}(new r),r}();pn.Subscription=Yf;function fu(r){return r.reduce(function(t,e){return t.concat(e instanceof yr.UnsubscriptionError?e.errors:e)},[])}});var mr=c(Me=>{"use strict";Object.defineProperty(Me,"__esModule",{value:!0});Me.rxSubscriber=function(){return typeof Symbol=="function"?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}();Me.$$rxSubscriber=Me.rxSubscriber});var _=c(ce=>{"use strict";var pu=ce&&ce.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(ce,"__esModule",{value:!0});var lu=ue(),hn=sn(),Qf=O(),Hf=mr(),se=Te(),Sr=vr(),hu=function(r){pu(t,r);function t(e,n,i){var o=r.call(this)||this;switch(o.syncErrorValue=null,o.syncErrorThrown=!1,o.syncErrorThrowable=!1,o.isStopped=!1,arguments.length){case 0:o.destination=hn.empty;break;case 1:if(!e){o.destination=hn.empty;break}if(typeof e=="object"){e instanceof t?(o.syncErrorThrowable=e.syncErrorThrowable,o.destination=e,e.add(o)):(o.syncErrorThrowable=!0,o.destination=new bn(o,e));break}default:o.syncErrorThrowable=!0,o.destination=new bn(o,e,n,i);break}return o}return t.prototype[Hf.rxSubscriber]=function(){return this},t.create=function(e,n,i){var o=new t(e,n,i);return o.syncErrorThrowable=!1,o},t.prototype.next=function(e){this.isStopped||this._next(e)},t.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,r.prototype.unsubscribe.call(this))},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},t.prototype._unsubscribeAndRecycle=function(){var e=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this},t}(Qf.Subscription);ce.Subscriber=hu;var bn=function(r){pu(t,r);function t(e,n,i,o){var u=r.call(this)||this;u._parentSubscriber=e;var s,f=u;return lu.isFunction(n)?s=n:n&&(s=n.next,i=n.error,o=n.complete,n!==hn.empty&&(f=Object.create(n),lu.isFunction(f.unsubscribe)&&u.add(f.unsubscribe.bind(f)),f.unsubscribe=u.unsubscribe.bind(u))),u._context=f,u._next=s,u._error=i,u._complete=o,u}return t.prototype.next=function(e){if(!this.isStopped&&this._next){var n=this._parentSubscriber;!se.config.useDeprecatedSynchronousErrorHandling||!n.syncErrorThrowable?this.__tryOrUnsub(this._next,e):this.__tryOrSetError(n,this._next,e)&&this.unsubscribe()}},t.prototype.error=function(e){if(!this.isStopped){var n=this._parentSubscriber,i=se.config.useDeprecatedSynchronousErrorHandling;if(this._error)!i||!n.syncErrorThrowable?(this.__tryOrUnsub(this._error,e),this.unsubscribe()):(this.__tryOrSetError(n,this._error,e),this.unsubscribe());else if(n.syncErrorThrowable)i?(n.syncErrorValue=e,n.syncErrorThrown=!0):Sr.hostReportError(e),this.unsubscribe();else{if(this.unsubscribe(),i)throw e;Sr.hostReportError(e)}}},t.prototype.complete=function(){var e=this;if(!this.isStopped){var n=this._parentSubscriber;if(this._complete){var i=function(){return e._complete.call(e._context)};!se.config.useDeprecatedSynchronousErrorHandling||!n.syncErrorThrowable?(this.__tryOrUnsub(i),this.unsubscribe()):(this.__tryOrSetError(n,i),this.unsubscribe())}else this.unsubscribe()}},t.prototype.__tryOrUnsub=function(e,n){try{e.call(this._context,n)}catch(i){if(this.unsubscribe(),se.config.useDeprecatedSynchronousErrorHandling)throw i;Sr.hostReportError(i)}},t.prototype.__tryOrSetError=function(e,n,i){if(!se.config.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{n.call(this._context,i)}catch(o){return se.config.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=o,e.syncErrorThrown=!0,!0):(Sr.hostReportError(o),!0)}return!1},t.prototype._unsubscribe=function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()},t}(hu);ce.SafeSubscriber=bn});var Or=c(_n=>{"use strict";Object.defineProperty(_n,"__esModule",{value:!0});var Kf=_();function Jf(r){for(;r;){var t=r,e=t.closed,n=t.destination,i=t.isStopped;if(e||i)return!1;n&&n instanceof Kf.Subscriber?r=n:r=null}return!0}_n.canReportError=Jf});var _u=c(dn=>{"use strict";Object.defineProperty(dn,"__esModule",{value:!0});var vn=_(),bu=mr(),Zf=sn();function $f(r,t,e){if(r){if(r instanceof vn.Subscriber)return r;if(r[bu.rxSubscriber])return r[bu.rxSubscriber]()}return!r&&!t&&!e?new vn.Subscriber(Zf.empty):new vn.Subscriber(r,t,e)}dn.toSubscriber=$f});var Y=c(yn=>{"use strict";Object.defineProperty(yn,"__esModule",{value:!0});yn.observable=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}()});var V=c(mn=>{"use strict";Object.defineProperty(mn,"__esModule",{value:!0});function Xf(r){return r}mn.identity=Xf});var gr=c(wr=>{"use strict";Object.defineProperty(wr,"__esModule",{value:!0});var el=V();function tl(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];return vu(r)}wr.pipe=tl;function vu(r){return r.length===0?el.identity:r.length===1?r[0]:function(e){return r.reduce(function(n,i){return i(n)},e)}}wr.pipeFromArray=vu});var d=c(Sn=>{"use strict";Object.defineProperty(Sn,"__esModule",{value:!0});var rl=Or(),nl=_u(),il=Y(),ol=gr(),xr=Te(),ul=function(){function r(t){this._isScalar=!1,t&&(this._subscribe=t)}return r.prototype.lift=function(t){var e=new r;return e.source=this,e.operator=t,e},r.prototype.subscribe=function(t,e,n){var i=this.operator,o=nl.toSubscriber(t,e,n);if(i?o.add(i.call(o,this.source)):o.add(this.source||xr.config.useDeprecatedSynchronousErrorHandling&&!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o)),xr.config.useDeprecatedSynchronousErrorHandling&&o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o},r.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){xr.config.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),rl.canReportError(t)?t.error(e):console.warn(e)}},r.prototype.forEach=function(t,e){var n=this;return e=du(e),new e(function(i,o){var u;u=n.subscribe(function(s){try{t(s)}catch(f){o(f),u&&u.unsubscribe()}},o,i)})},r.prototype._subscribe=function(t){var e=this.source;return e&&e.subscribe(t)},r.prototype[il.observable]=function(){return this},r.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.length===0?this:ol.pipeFromArray(t)(this)},r.prototype.toPromise=function(t){var e=this;return t=du(t),new t(function(n,i){var o;e.subscribe(function(u){return o=u},function(u){return i(u)},function(){return n(o)})})},r.create=function(t){return new r(t)},r}();Sn.Observable=ul;function du(r){if(r||(r=xr.config.Promise||Promise),!r)throw new Error("no Promise impl found");return r}});var Ce=c(On=>{"use strict";Object.defineProperty(On,"__esModule",{value:!0});var sl=function(){function r(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return r.prototype=Object.create(Error.prototype),r}();On.ObjectUnsubscribedError=sl});var wn=c(Ie=>{"use strict";var cl=Ie&&Ie.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(Ie,"__esModule",{value:!0});var al=O(),fl=function(r){cl(t,r);function t(e,n){var i=r.call(this)||this;return i.subject=e,i.subscriber=n,i.closed=!1,i}return t.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var e=this.subject,n=e.observers;if(this.subject=null,!(!n||n.length===0||e.isStopped||e.closed)){var i=n.indexOf(this.subscriber);i!==-1&&n.splice(i,1)}}},t}(al.Subscription);Ie.SubjectSubscription=fl});var w=c(Q=>{"use strict";var qn=Q&&Q.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(Q,"__esModule",{value:!0});var yu=d(),ll=_(),gn=O(),Ne=Ce(),pl=wn(),hl=mr(),mu=function(r){qn(t,r);function t(e){var n=r.call(this,e)||this;return n.destination=e,n}return t}(ll.Subscriber);Q.SubjectSubscriber=mu;var Su=function(r){qn(t,r);function t(){var e=r.call(this)||this;return e.observers=[],e.closed=!1,e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return t.prototype[hl.rxSubscriber]=function(){return new mu(this)},t.prototype.lift=function(e){var n=new xn(this,this);return n.operator=e,n},t.prototype.next=function(e){if(this.closed)throw new Ne.ObjectUnsubscribedError;if(!this.isStopped)for(var n=this.observers,i=n.length,o=n.slice(),u=0;u<i;u++)o[u].next(e)},t.prototype.error=function(e){if(this.closed)throw new Ne.ObjectUnsubscribedError;this.hasError=!0,this.thrownError=e,this.isStopped=!0;for(var n=this.observers,i=n.length,o=n.slice(),u=0;u<i;u++)o[u].error(e);this.observers.length=0},t.prototype.complete=function(){if(this.closed)throw new Ne.ObjectUnsubscribedError;this.isStopped=!0;for(var e=this.observers,n=e.length,i=e.slice(),o=0;o<n;o++)i[o].complete();this.observers.length=0},t.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},t.prototype._trySubscribe=function(e){if(this.closed)throw new Ne.ObjectUnsubscribedError;return r.prototype._trySubscribe.call(this,e)},t.prototype._subscribe=function(e){if(this.closed)throw new Ne.ObjectUnsubscribedError;return this.hasError?(e.error(this.thrownError),gn.Subscription.EMPTY):this.isStopped?(e.complete(),gn.Subscription.EMPTY):(this.observers.push(e),new pl.SubjectSubscription(this,e))},t.prototype.asObservable=function(){var e=new yu.Observable;return e.source=this,e},t.create=function(e,n){return new xn(e,n)},t}(yu.Observable);Q.Subject=Su;var xn=function(r){qn(t,r);function t(e,n){var i=r.call(this)||this;return i.destination=e,i.source=n,i}return t.prototype.next=function(e){var n=this.destination;n&&n.next&&n.next(e)},t.prototype.error=function(e){var n=this.destination;n&&n.error&&this.destination.error(e)},t.prototype.complete=function(){var e=this.destination;e&&e.complete&&this.destination.complete()},t.prototype._subscribe=function(e){var n=this.source;return n?this.source.subscribe(e):gn.Subscription.EMPTY},t}(Su);Q.AnonymousSubject=xn});var qr=c(Re=>{"use strict";var bl=Re&&Re.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(Re,"__esModule",{value:!0});var _l=_();function vl(){return function(t){return t.lift(new dl(t))}}Re.refCount=vl;var dl=function(){function r(t){this.connectable=t}return r.prototype.call=function(t,e){var n=this.connectable;n._refCount++;var i=new yl(t,n),o=e.subscribe(i);return i.closed||(i.connection=n.connect()),o},r}(),yl=function(r){bl(t,r);function t(e,n){var i=r.call(this,e)||this;return i.connectable=n,i}return t.prototype._unsubscribe=function(){var e=this.connectable;if(!e){this.connection=null;return}this.connectable=null;var n=e._refCount;if(n<=0){this.connection=null;return}if(e._refCount=n-1,n>1){this.connection=null;return}var i=this.connection,o=e._connection;this.connection=null,o&&(!i||o===i)&&o.unsubscribe()},t}(_l.Subscriber)});var Pn=c(ae=>{"use strict";var jn=ae&&ae.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(ae,"__esModule",{value:!0});var ml=w(),Sl=d(),Ol=_(),Ou=O(),wl=qr(),wu=function(r){jn(t,r);function t(e,n){var i=r.call(this)||this;return i.source=e,i.subjectFactory=n,i._refCount=0,i._isComplete=!1,i}return t.prototype._subscribe=function(e){return this.getSubject().subscribe(e)},t.prototype.getSubject=function(){var e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject},t.prototype.connect=function(){var e=this._connection;return e||(this._isComplete=!1,e=this._connection=new Ou.Subscription,e.add(this.source.subscribe(new gl(this.getSubject(),this))),e.closed&&(this._connection=null,e=Ou.Subscription.EMPTY)),e},t.prototype.refCount=function(){return wl.refCount()(this)},t}(Sl.Observable);ae.ConnectableObservable=wu;ae.connectableObservableDescriptor=function(){var r=wu.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:r._subscribe},_isComplete:{value:r._isComplete,writable:!0},getSubject:{value:r.getSubject},connect:{value:r.connect},refCount:{value:r.refCount}}}();var gl=function(r){jn(t,r);function t(e,n){var i=r.call(this,e)||this;return i.connectable=n,i}return t.prototype._error=function(e){this._unsubscribe(),r.prototype._error.call(this,e)},t.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),r.prototype._complete.call(this)},t.prototype._unsubscribe=function(){var e=this.connectable;if(e){this.connectable=null;var n=e._connection;e._refCount=0,e._subject=null,e._connection=null,n&&n.unsubscribe()}},t}(ml.SubjectSubscriber),Rj=function(){function r(t){this.connectable=t}return r.prototype.call=function(t,e){var n=this.connectable;n._refCount++;var i=new xl(t,n),o=e.subscribe(i);return i.closed||(i.connection=n.connect()),o},r}(),xl=function(r){jn(t,r);function t(e,n){var i=r.call(this,e)||this;return i.connectable=n,i}return t.prototype._unsubscribe=function(){var e=this.connectable;if(!e){this.connection=null;return}this.connectable=null;var n=e._refCount;if(n<=0){this.connection=null;return}if(e._refCount=n-1,n>1){this.connection=null;return}var i=this.connection,o=e._connection;this.connection=null,o&&(!i||o===i)&&o.unsubscribe()},t}(Ol.Subscriber)});var An=c(fe=>{"use strict";var jr=fe&&fe.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(fe,"__esModule",{value:!0});var gu=_(),xu=O(),ql=d(),jl=w();function Pl(r,t,e,n){return function(i){return i.lift(new El(r,t,e,n))}}fe.groupBy=Pl;var El=function(){function r(t,e,n,i){this.keySelector=t,this.elementSelector=e,this.durationSelector=n,this.subjectSelector=i}return r.prototype.call=function(t,e){return e.subscribe(new Al(t,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))},r}(),Al=function(r){jr(t,r);function t(e,n,i,o,u){var s=r.call(this,e)||this;return s.keySelector=n,s.elementSelector=i,s.durationSelector=o,s.subjectSelector=u,s.groups=null,s.attemptedToUnsubscribe=!1,s.count=0,s}return t.prototype._next=function(e){var n;try{n=this.keySelector(e)}catch(i){this.error(i);return}this._group(e,n)},t.prototype._group=function(e,n){var i=this.groups;i||(i=this.groups=new Map);var o=i.get(n),u;if(this.elementSelector)try{u=this.elementSelector(e)}catch(a){this.error(a)}else u=e;if(!o){o=this.subjectSelector?this.subjectSelector():new jl.Subject,i.set(n,o);var s=new En(n,o,this);if(this.destination.next(s),this.durationSelector){var f=void 0;try{f=this.durationSelector(new En(n,o))}catch(a){this.error(a);return}this.add(f.subscribe(new Tl(n,o,this)))}}o.closed||o.next(u)},t.prototype._error=function(e){var n=this.groups;n&&(n.forEach(function(i,o){i.error(e)}),n.clear()),this.destination.error(e)},t.prototype._complete=function(){var e=this.groups;e&&(e.forEach(function(n,i){n.complete()}),e.clear()),this.destination.complete()},t.prototype.removeGroup=function(e){this.groups.delete(e)},t.prototype.unsubscribe=function(){this.closed||(this.attemptedToUnsubscribe=!0,this.count===0&&r.prototype.unsubscribe.call(this))},t}(gu.Subscriber),Tl=function(r){jr(t,r);function t(e,n,i){var o=r.call(this,n)||this;return o.key=e,o.group=n,o.parent=i,o}return t.prototype._next=function(e){this.complete()},t.prototype._unsubscribe=function(){var e=this,n=e.parent,i=e.key;this.key=this.parent=null,n&&n.removeGroup(i)},t}(gu.Subscriber),En=function(r){jr(t,r);function t(e,n,i){var o=r.call(this)||this;return o.key=e,o.groupSubject=n,o.refCountSubscription=i,o}return t.prototype._subscribe=function(e){var n=new xu.Subscription,i=this,o=i.refCountSubscription,u=i.groupSubject;return o&&!o.closed&&n.add(new Ml(o)),n.add(u.subscribe(e)),n},t}(ql.Observable);fe.GroupedObservable=En;var Ml=function(r){jr(t,r);function t(e){var n=r.call(this)||this;return n.parent=e,e.count++,n}return t.prototype.unsubscribe=function(){var e=this.parent;!e.closed&&!this.closed&&(r.prototype.unsubscribe.call(this),e.count-=1,e.count===0&&e.attemptedToUnsubscribe&&e.unsubscribe())},t}(xu.Subscription)});var Tn=c(ke=>{"use strict";var Cl=ke&&ke.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(ke,"__esModule",{value:!0});var Il=w(),Nl=Ce(),Rl=function(r){Cl(t,r);function t(e){var n=r.call(this)||this;return n._value=e,n}return Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),t.prototype._subscribe=function(e){var n=r.prototype._subscribe.call(this,e);return n&&!n.closed&&e.next(this._value),n},t.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Nl.ObjectUnsubscribedError;return this._value},t.prototype.next=function(e){r.prototype.next.call(this,this._value=e)},t}(Il.Subject);ke.BehaviorSubject=Rl});var qu=c(Ve=>{"use strict";var kl=Ve&&Ve.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(Ve,"__esModule",{value:!0});var Vl=O(),Wl=function(r){kl(t,r);function t(e,n){return r.call(this)||this}return t.prototype.schedule=function(e,n){return n===void 0&&(n=0),this},t}(Vl.Subscription);Ve.Action=Wl});var le=c(We=>{"use strict";var Fl=We&&We.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(We,"__esModule",{value:!0});var Dl=qu(),Ul=function(r){Fl(t,r);function t(e,n){var i=r.call(this,e,n)||this;return i.scheduler=e,i.work=n,i.pending=!1,i}return t.prototype.schedule=function(e,n){if(n===void 0&&(n=0),this.closed)return this;this.state=e;var i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=this.id||this.requestAsyncId(o,this.id,n),this},t.prototype.requestAsyncId=function(e,n,i){return i===void 0&&(i=0),setInterval(e.flush.bind(e,this),i)},t.prototype.recycleAsyncId=function(e,n,i){if(i===void 0&&(i=0),i!==null&&this.delay===i&&this.pending===!1)return n;clearInterval(n)},t.prototype.execute=function(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var i=this._execute(e,n);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,n){var i=!1,o=void 0;try{this.work(e)}catch(u){i=!0,o=!!u&&u||new Error(u)}if(i)return this.unsubscribe(),o},t.prototype._unsubscribe=function(){var e=this.id,n=this.scheduler,i=n.actions,o=i.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,o!==-1&&i.splice(o,1),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null},t}(Dl.Action);We.AsyncAction=Ul});var ju=c(Fe=>{"use strict";var Bl=Fe&&Fe.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(Fe,"__esModule",{value:!0});var Ll=le(),zl=function(r){Bl(t,r);function t(e,n){var i=r.call(this,e,n)||this;return i.scheduler=e,i.work=n,i}return t.prototype.schedule=function(e,n){return n===void 0&&(n=0),n>0?r.prototype.schedule.call(this,e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)},t.prototype.execute=function(e,n){return n>0||this.closed?r.prototype.execute.call(this,e,n):this._execute(e,n)},t.prototype.requestAsyncId=function(e,n,i){return i===void 0&&(i=0),i!==null&&i>0||i===null&&this.delay>0?r.prototype.requestAsyncId.call(this,e,n,i):e.flush(this)},t}(Ll.AsyncAction);Fe.QueueAction=zl});var Cn=c(Mn=>{"use strict";Object.defineProperty(Mn,"__esModule",{value:!0});var Gl=function(){function r(t,e){e===void 0&&(e=r.now),this.SchedulerAction=t,this.now=e}return r.prototype.schedule=function(t,e,n){return e===void 0&&(e=0),new this.SchedulerAction(this,t).schedule(n,e)},r.now=function(){return Date.now()},r}();Mn.Scheduler=Gl});var pe=c(De=>{"use strict";var Yl=De&&De.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(De,"__esModule",{value:!0});var Pu=Cn(),Ql=function(r){Yl(t,r);function t(e,n){n===void 0&&(n=Pu.Scheduler.now);var i=r.call(this,e,function(){return t.delegate&&t.delegate!==i?t.delegate.now():n()})||this;return i.actions=[],i.active=!1,i.scheduled=void 0,i}return t.prototype.schedule=function(e,n,i){return n===void 0&&(n=0),t.delegate&&t.delegate!==this?t.delegate.schedule(e,n,i):r.prototype.schedule.call(this,e,n,i)},t.prototype.flush=function(e){var n=this.actions;if(this.active){n.push(e);return}var i;this.active=!0;do if(i=e.execute(e.state,e.delay))break;while(e=n.shift());if(this.active=!1,i){for(;e=n.shift();)e.unsubscribe();throw i}},t}(Pu.Scheduler);De.AsyncScheduler=Ql});var Eu=c(Ue=>{"use strict";var Hl=Ue&&Ue.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(Ue,"__esModule",{value:!0});var Kl=pe(),Jl=function(r){Hl(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t}(Kl.AsyncScheduler);Ue.QueueScheduler=Jl});var In=c(Be=>{"use strict";Object.defineProperty(Be,"__esModule",{value:!0});var Zl=ju(),$l=Eu();Be.queueScheduler=new $l.QueueScheduler(Zl.QueueAction);Be.queue=Be.queueScheduler});var P=c(Le=>{"use strict";Object.defineProperty(Le,"__esModule",{value:!0});var Au=d();Le.EMPTY=new Au.Observable(function(r){return r.complete()});function Xl(r){return r?ep(r):Le.EMPTY}Le.empty=Xl;function ep(r){return new Au.Observable(function(t){return r.schedule(function(){return t.complete()})})}});var E=c(Nn=>{"use strict";Object.defineProperty(Nn,"__esModule",{value:!0});function tp(r){return r&&typeof r.schedule=="function"}Nn.isScheduler=tp});var kn=c(Rn=>{"use strict";Object.defineProperty(Rn,"__esModule",{value:!0});Rn.subscribeToArray=function(r){return function(t){for(var e=0,n=r.length;e<n&&!t.closed;e++)t.next(r[e]);t.complete()}}});var Pr=c(Vn=>{"use strict";Object.defineProperty(Vn,"__esModule",{value:!0});var rp=d(),np=O();function ip(r,t){return new rp.Observable(function(e){var n=new np.Subscription,i=0;return n.add(t.schedule(function(){if(i===r.length){e.complete();return}e.next(r[i++]),e.closed||n.add(this.schedule())})),n})}Vn.scheduleArray=ip});var he=c(Wn=>{"use strict";Object.defineProperty(Wn,"__esModule",{value:!0});var op=d(),up=kn(),sp=Pr();function cp(r,t){return t?sp.scheduleArray(r,t):new op.Observable(up.subscribeToArray(r))}Wn.fromArray=cp});var ze=c(Fn=>{"use strict";Object.defineProperty(Fn,"__esModule",{value:!0});var ap=E(),fp=he(),lp=Pr();function pp(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];var e=r[r.length-1];return ap.isScheduler(e)?(r.pop(),lp.scheduleArray(r,e)):fp.fromArray(r)}Fn.of=pp});var Er=c(Dn=>{"use strict";Object.defineProperty(Dn,"__esModule",{value:!0});var Tu=d();function hp(r,t){return t?new Tu.Observable(function(e){return t.schedule(bp,0,{error:r,subscriber:e})}):new Tu.Observable(function(e){return e.error(r)})}Dn.throwError=hp;function bp(r){var t=r.error,e=r.subscriber;e.error(t)}});var Ye=c(Ge=>{"use strict";Object.defineProperty(Ge,"__esModule",{value:!0});var _p=P(),vp=ze(),dp=Er(),yp;(function(r){r.NEXT="N",r.ERROR="E",r.COMPLETE="C"})(yp=Ge.NotificationKind||(Ge.NotificationKind={}));var mp=function(){function r(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue=t==="N"}return r.prototype.observe=function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}},r.prototype.do=function(t,e,n){var i=this.kind;switch(i){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}},r.prototype.accept=function(t,e,n){return t&&typeof t.next=="function"?this.observe(t):this.do(t,e,n)},r.prototype.toObservable=function(){var t=this.kind;switch(t){case"N":return vp.of(this.value);case"E":return dp.throwError(this.error);case"C":return _p.empty()}throw new Error("unexpected notification kind value")},r.createNext=function(t){return typeof t<"u"?new r("N",t):r.undefinedValueNotification},r.createError=function(t){return new r("E",void 0,t)},r.createComplete=function(){return r.completeNotification},r.completeNotification=new r("C"),r.undefinedValueNotification=new r("N",void 0),r}();Ge.Notification=mp});var Bn=c(W=>{"use strict";var Sp=W&&W.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(W,"__esModule",{value:!0});var Op=_(),Un=Ye();function wp(r,t){return t===void 0&&(t=0),function(n){return n.lift(new Mu(r,t))}}W.observeOn=wp;var Mu=function(){function r(t,e){e===void 0&&(e=0),this.scheduler=t,this.delay=e}return r.prototype.call=function(t,e){return e.subscribe(new Cu(t,this.scheduler,this.delay))},r}();W.ObserveOnOperator=Mu;var Cu=function(r){Sp(t,r);function t(e,n,i){i===void 0&&(i=0);var o=r.call(this,e)||this;return o.scheduler=n,o.delay=i,o}return t.dispatch=function(e){var n=e.notification,i=e.destination;n.observe(i),this.unsubscribe()},t.prototype.scheduleMessage=function(e){var n=this.destination;n.add(this.scheduler.schedule(t.dispatch,this.delay,new Iu(e,this.destination)))},t.prototype._next=function(e){this.scheduleMessage(Un.Notification.createNext(e))},t.prototype._error=function(e){this.scheduleMessage(Un.Notification.createError(e)),this.unsubscribe()},t.prototype._complete=function(){this.scheduleMessage(Un.Notification.createComplete()),this.unsubscribe()},t}(Op.Subscriber);W.ObserveOnSubscriber=Cu;var Iu=function(){function r(t,e){this.notification=t,this.destination=e}return r}();W.ObserveOnMessage=Iu});var Ar=c(Qe=>{"use strict";var gp=Qe&&Qe.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(Qe,"__esModule",{value:!0});var xp=w(),qp=In(),jp=O(),Pp=Bn(),Ep=Ce(),Ap=wn(),Tp=function(r){gp(t,r);function t(e,n,i){e===void 0&&(e=Number.POSITIVE_INFINITY),n===void 0&&(n=Number.POSITIVE_INFINITY);var o=r.call(this)||this;return o.scheduler=i,o._events=[],o._infiniteTimeWindow=!1,o._bufferSize=e<1?1:e,o._windowTime=n<1?1:n,n===Number.POSITIVE_INFINITY?(o._infiniteTimeWindow=!0,o.next=o.nextInfiniteTimeWindow):o.next=o.nextTimeWindow,o}return t.prototype.nextInfiniteTimeWindow=function(e){if(!this.isStopped){var n=this._events;n.push(e),n.length>this._bufferSize&&n.shift()}r.prototype.next.call(this,e)},t.prototype.nextTimeWindow=function(e){this.isStopped||(this._events.push(new Mp(this._getNow(),e)),this._trimBufferThenGetEvents()),r.prototype.next.call(this,e)},t.prototype._subscribe=function(e){var n=this._infiniteTimeWindow,i=n?this._events:this._trimBufferThenGetEvents(),o=this.scheduler,u=i.length,s;if(this.closed)throw new Ep.ObjectUnsubscribedError;if(this.isStopped||this.hasError?s=jp.Subscription.EMPTY:(this.observers.push(e),s=new Ap.SubjectSubscription(this,e)),o&&e.add(e=new Pp.ObserveOnSubscriber(e,o)),n)for(var f=0;f<u&&!e.closed;f++)e.next(i[f]);else for(var f=0;f<u&&!e.closed;f++)e.next(i[f].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),s},t.prototype._getNow=function(){return(this.scheduler||qp.queue).now()},t.prototype._trimBufferThenGetEvents=function(){for(var e=this._getNow(),n=this._bufferSize,i=this._windowTime,o=this._events,u=o.length,s=0;s<u&&!(e-o[s].time<i);)s++;return u>n&&(s=Math.max(s,u-n)),s>0&&o.splice(0,s),o},t}(xp.Subject);Qe.ReplaySubject=Tp;var Mp=function(){function r(t,e){this.time=t,this.value=e}return r}()});var Ke=c(He=>{"use strict";var Cp=He&&He.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(He,"__esModule",{value:!0});var Ip=w(),Nu=O(),Np=function(r){Cp(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.value=null,e.hasNext=!1,e.hasCompleted=!1,e}return t.prototype._subscribe=function(e){return this.hasError?(e.error(this.thrownError),Nu.Subscription.EMPTY):this.hasCompleted&&this.hasNext?(e.next(this.value),e.complete(),Nu.Subscription.EMPTY):r.prototype._subscribe.call(this,e)},t.prototype.next=function(e){this.hasCompleted||(this.value=e,this.hasNext=!0)},t.prototype.error=function(e){this.hasCompleted||r.prototype.error.call(this,e)},t.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&r.prototype.next.call(this,this.value),r.prototype.complete.call(this)},t}(Ip.Subject);He.AsyncSubject=Np});var ku=c(Mr=>{"use strict";Object.defineProperty(Mr,"__esModule",{value:!0});var Rp=1,kp=function(){return Promise.resolve()}(),Tr={};function Ru(r){return r in Tr?(delete Tr[r],!0):!1}Mr.Immediate={setImmediate:function(r){var t=Rp++;return Tr[t]=!0,kp.then(function(){return Ru(t)&&r()}),t},clearImmediate:function(r){Ru(r)}};Mr.TestTools={pending:function(){return Object.keys(Tr).length}}});var Wu=c(Je=>{"use strict";var Vp=Je&&Je.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(Je,"__esModule",{value:!0});var Vu=ku(),Wp=le(),Fp=function(r){Vp(t,r);function t(e,n){var i=r.call(this,e,n)||this;return i.scheduler=e,i.work=n,i}return t.prototype.requestAsyncId=function(e,n,i){return i===void 0&&(i=0),i!==null&&i>0?r.prototype.requestAsyncId.call(this,e,n,i):(e.actions.push(this),e.scheduled||(e.scheduled=Vu.Immediate.setImmediate(e.flush.bind(e,null))))},t.prototype.recycleAsyncId=function(e,n,i){if(i===void 0&&(i=0),i!==null&&i>0||i===null&&this.delay>0)return r.prototype.recycleAsyncId.call(this,e,n,i);e.actions.length===0&&(Vu.Immediate.clearImmediate(n),e.scheduled=void 0)},t}(Wp.AsyncAction);Je.AsapAction=Fp});var Fu=c(Ze=>{"use strict";var Dp=Ze&&Ze.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(Ze,"__esModule",{value:!0});var Up=pe(),Bp=function(r){Dp(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.flush=function(e){this.active=!0,this.scheduled=void 0;var n=this.actions,i,o=-1,u=n.length;e=e||n.shift();do if(i=e.execute(e.state,e.delay))break;while(++o<u&&(e=n.shift()));if(this.active=!1,i){for(;++o<u&&(e=n.shift());)e.unsubscribe();throw i}},t}(Up.AsyncScheduler);Ze.AsapScheduler=Bp});var Ln=c($e=>{"use strict";Object.defineProperty($e,"__esModule",{value:!0});var Lp=Wu(),zp=Fu();$e.asapScheduler=new zp.AsapScheduler(Lp.AsapAction);$e.asap=$e.asapScheduler});var x=c(Xe=>{"use strict";Object.defineProperty(Xe,"__esModule",{value:!0});var Gp=le(),Yp=pe();Xe.asyncScheduler=new Yp.AsyncScheduler(Gp.AsyncAction);Xe.async=Xe.asyncScheduler});var Du=c(et=>{"use strict";var Qp=et&&et.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(et,"__esModule",{value:!0});var Hp=le(),Kp=function(r){Qp(t,r);function t(e,n){var i=r.call(this,e,n)||this;return i.scheduler=e,i.work=n,i}return t.prototype.requestAsyncId=function(e,n,i){return i===void 0&&(i=0),i!==null&&i>0?r.prototype.requestAsyncId.call(this,e,n,i):(e.actions.push(this),e.scheduled||(e.scheduled=requestAnimationFrame(function(){return e.flush(null)})))},t.prototype.recycleAsyncId=function(e,n,i){if(i===void 0&&(i=0),i!==null&&i>0||i===null&&this.delay>0)return r.prototype.recycleAsyncId.call(this,e,n,i);e.actions.length===0&&(cancelAnimationFrame(n),e.scheduled=void 0)},t}(Hp.AsyncAction);et.AnimationFrameAction=Kp});var Uu=c(tt=>{"use strict";var Jp=tt&&tt.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(tt,"__esModule",{value:!0});var Zp=pe(),$p=function(r){Jp(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.flush=function(e){this.active=!0,this.scheduled=void 0;var n=this.actions,i,o=-1,u=n.length;e=e||n.shift();do if(i=e.execute(e.state,e.delay))break;while(++o<u&&(e=n.shift()));if(this.active=!1,i){for(;++o<u&&(e=n.shift());)e.unsubscribe();throw i}},t}(Zp.AsyncScheduler);tt.AnimationFrameScheduler=$p});var Bu=c(rt=>{"use strict";Object.defineProperty(rt,"__esModule",{value:!0});var Xp=Du(),eh=Uu();rt.animationFrameScheduler=new eh.AnimationFrameScheduler(Xp.AnimationFrameAction);rt.animationFrame=rt.animationFrameScheduler});var Gu=c(be=>{"use strict";var Lu=be&&be.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(be,"__esModule",{value:!0});var th=le(),rh=pe(),nh=function(r){Lu(t,r);function t(e,n){e===void 0&&(e=zu),n===void 0&&(n=Number.POSITIVE_INFINITY);var i=r.call(this,e,function(){return i.frame})||this;return i.maxFrames=n,i.frame=0,i.index=-1,i}return t.prototype.flush=function(){for(var e=this,n=e.actions,i=e.maxFrames,o,u;(u=n[0])&&u.delay<=i&&(n.shift(),this.frame=u.delay,!(o=u.execute(u.state,u.delay))););if(o){for(;u=n.shift();)u.unsubscribe();throw o}},t.frameTimeFactor=10,t}(rh.AsyncScheduler);be.VirtualTimeScheduler=nh;var zu=function(r){Lu(t,r);function t(e,n,i){i===void 0&&(i=e.index+=1);var o=r.call(this,e,n)||this;return o.scheduler=e,o.work=n,o.index=i,o.active=!0,o.index=e.index=i,o}return t.prototype.schedule=function(e,n){if(n===void 0&&(n=0),!this.id)return r.prototype.schedule.call(this,e,n);this.active=!1;var i=new t(this.scheduler,this.work);return this.add(i),i.schedule(e,n)},t.prototype.requestAsyncId=function(e,n,i){i===void 0&&(i=0),this.delay=e.frame+i;var o=e.actions;return o.push(this),o.sort(t.sortActions),!0},t.prototype.recycleAsyncId=function(e,n,i){i===void 0&&(i=0)},t.prototype._execute=function(e,n){if(this.active===!0)return r.prototype._execute.call(this,e,n)},t.sortActions=function(e,n){return e.delay===n.delay?e.index===n.index?0:e.index>n.index?1:-1:e.delay>n.delay?1:-1},t}(th.AsyncAction);be.VirtualAction=zu});var Cr=c(zn=>{"use strict";Object.defineProperty(zn,"__esModule",{value:!0});function ih(){}zn.noop=ih});var Yu=c(Gn=>{"use strict";Object.defineProperty(Gn,"__esModule",{value:!0});var oh=d();function uh(r){return!!r&&(r instanceof oh.Observable||typeof r.lift=="function"&&typeof r.subscribe=="function")}Gn.isObservable=uh});var _e=c(Yn=>{"use strict";Object.defineProperty(Yn,"__esModule",{value:!0});var sh=function(){function r(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return r.prototype=Object.create(Error.prototype),r}();Yn.ArgumentOutOfRangeError=sh});var ve=c(Qn=>{"use strict";Object.defineProperty(Qn,"__esModule",{value:!0});var ch=function(){function r(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return r.prototype=Object.create(Error.prototype),r}();Qn.EmptyError=ch});var Kn=c(Hn=>{"use strict";Object.defineProperty(Hn,"__esModule",{value:!0});var ah=function(){function r(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return r.prototype=Object.create(Error.prototype),r}();Hn.TimeoutError=ah});var j=c(de=>{"use strict";var fh=de&&de.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(de,"__esModule",{value:!0});var lh=_();function ph(r,t){return function(n){if(typeof r!="function")throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new Qu(r,t))}}de.map=ph;var Qu=function(){function r(t,e){this.project=t,this.thisArg=e}return r.prototype.call=function(t,e){return e.subscribe(new hh(t,this.project,this.thisArg))},r}();de.MapOperator=Qu;var hh=function(r){fh(t,r);function t(e,n,i){var o=r.call(this,e)||this;return o.project=n,o.count=0,o.thisArg=i||o,o}return t.prototype._next=function(e){var n;try{n=this.project.call(this.thisArg,e,this.count++)}catch(i){this.destination.error(i);return}this.destination.next(n)},t}(lh.Subscriber)});var Ju=c(Jn=>{"use strict";Object.defineProperty(Jn,"__esModule",{value:!0});var bh=d(),Hu=Ke(),_h=j(),vh=Or(),dh=g(),yh=E();function Ku(r,t,e){if(t)if(yh.isScheduler(t))e=t;else return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return Ku(r,e).apply(void 0,n).pipe(_h.map(function(o){return dh.isArray(o)?t.apply(void 0,o):t(o)}))};return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var o=this,u,s={context:o,subject:u,callbackFunc:r,scheduler:e};return new bh.Observable(function(f){if(e){var p={args:n,subscriber:f,params:s};return e.schedule(mh,0,p)}else{if(!u){u=new Hu.AsyncSubject;var a=function(){for(var b=[],v=0;v<arguments.length;v++)b[v]=arguments[v];u.next(b.length<=1?b[0]:b),u.complete()};try{r.apply(o,n.concat([a]))}catch(b){vh.canReportError(u)?u.error(b):console.warn(b)}}return u.subscribe(f)}})}}Jn.bindCallback=Ku;function mh(r){var t=this,e=this,n=r.args,i=r.subscriber,o=r.params,u=o.callbackFunc,s=o.context,f=o.scheduler,a=o.subject;if(!a){a=o.subject=new Hu.AsyncSubject;var p=function(){for(var b=[],v=0;v<arguments.length;v++)b[v]=arguments[v];var q=b.length<=1?b[0]:b;t.add(f.schedule(Sh,0,{value:q,subject:a}))};try{u.apply(s,n.concat([p]))}catch(b){a.error(b)}}this.add(a.subscribe(i))}function Sh(r){var t=r.value,e=r.subject;e.next(t),e.complete()}});var es=c(Zn=>{"use strict";Object.defineProperty(Zn,"__esModule",{value:!0});var Oh=d(),$u=Ke(),wh=j(),gh=Or(),xh=E(),qh=g();function Xu(r,t,e){if(t)if(xh.isScheduler(t))e=t;else return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return Xu(r,e).apply(void 0,n).pipe(wh.map(function(o){return qh.isArray(o)?t.apply(void 0,o):t(o)}))};return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var o={subject:void 0,args:n,callbackFunc:r,scheduler:e,context:this};return new Oh.Observable(function(u){var s=o.context,f=o.subject;if(e)return e.schedule(jh,0,{params:o,subscriber:u,context:s});if(!f){f=o.subject=new $u.AsyncSubject;var a=function(){for(var p=[],b=0;b<arguments.length;b++)p[b]=arguments[b];var v=p.shift();if(v){f.error(v);return}f.next(p.length<=1?p[0]:p),f.complete()};try{r.apply(s,n.concat([a]))}catch(p){gh.canReportError(f)?f.error(p):console.warn(p)}}return f.subscribe(u)})}}Zn.bindNodeCallback=Xu;function jh(r){var t=this,e=r.params,n=r.subscriber,i=r.context,o=e.callbackFunc,u=e.args,s=e.scheduler,f=e.subject;if(!f){f=e.subject=new $u.AsyncSubject;var a=function(){for(var p=[],b=0;b<arguments.length;b++)p[b]=arguments[b];var v=p.shift();if(v)t.add(s.schedule(Zu,0,{err:v,subject:f}));else{var q=p.length<=1?p[0]:p;t.add(s.schedule(Ph,0,{value:q,subject:f}))}};try{o.apply(i,u.concat([a]))}catch(p){this.add(s.schedule(Zu,0,{err:p,subject:f}))}}this.add(f.subscribe(n))}function Ph(r){var t=r.value,e=r.subject;e.next(t),e.complete()}function Zu(r){var t=r.err,e=r.subject;e.error(t)}});var F=c(nt=>{"use strict";var Eh=nt&&nt.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(nt,"__esModule",{value:!0});var Ah=_(),Th=function(r){Eh(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.notifyNext=function(e,n,i,o,u){this.destination.next(n)},t.prototype.notifyError=function(e,n){this.destination.error(e)},t.prototype.notifyComplete=function(e){this.destination.complete()},t}(Ah.Subscriber);nt.OuterSubscriber=Th});var ts=c(it=>{"use strict";var Mh=it&&it.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(it,"__esModule",{value:!0});var Ch=_(),Ih=function(r){Mh(t,r);function t(e,n,i){var o=r.call(this)||this;return o.parent=e,o.outerValue=n,o.outerIndex=i,o.index=0,o}return t.prototype._next=function(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)},t.prototype._error=function(e){this.parent.notifyError(e,this),this.unsubscribe()},t.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},t}(Ch.Subscriber);it.InnerSubscriber=Ih});var rs=c($n=>{"use strict";Object.defineProperty($n,"__esModule",{value:!0});var Nh=vr();$n.subscribeToPromise=function(r){return function(t){return r.then(function(e){t.closed||(t.next(e),t.complete())},function(e){return t.error(e)}).then(null,Nh.hostReportError),t}}});var me=c(ye=>{"use strict";Object.defineProperty(ye,"__esModule",{value:!0});function ns(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}ye.getSymbolIterator=ns;ye.iterator=ns();ye.$$iterator=ye.iterator});var is=c(Xn=>{"use strict";Object.defineProperty(Xn,"__esModule",{value:!0});var Rh=me();Xn.subscribeToIterable=function(r){return function(t){var e=r[Rh.iterator]();do{var n=void 0;try{n=e.next()}catch(i){return t.error(i),t}if(n.done){t.complete();break}if(t.next(n.value),t.closed)break}while(!0);return typeof e.return=="function"&&t.add(function(){e.return&&e.return()}),t}}});var os=c(ei=>{"use strict";Object.defineProperty(ei,"__esModule",{value:!0});var kh=Y();ei.subscribeToObservable=function(r){return function(t){var e=r[kh.observable]();if(typeof e.subscribe!="function")throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)}}});var ri=c(ti=>{"use strict";Object.defineProperty(ti,"__esModule",{value:!0});ti.isArrayLike=function(r){return r&&typeof r.length=="number"&&typeof r!="function"}});var ii=c(ni=>{"use strict";Object.defineProperty(ni,"__esModule",{value:!0});function Vh(r){return!!r&&typeof r.subscribe!="function"&&typeof r.then=="function"}ni.isPromise=Vh});var ot=c(oi=>{"use strict";Object.defineProperty(oi,"__esModule",{value:!0});var Wh=kn(),Fh=rs(),Dh=is(),Uh=os(),Bh=ri(),Lh=ii(),zh=dr(),Gh=me(),Yh=Y();oi.subscribeTo=function(r){if(!!r&&typeof r[Yh.observable]=="function")return Uh.subscribeToObservable(r);if(Bh.isArrayLike(r))return Wh.subscribeToArray(r);if(Lh.isPromise(r))return Fh.subscribeToPromise(r);if(!!r&&typeof r[Gh.iterator]=="function")return Dh.subscribeToIterable(r);var t=zh.isObject(r)?"an invalid object":"'"+r+"'",e="You provided "+t+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.";throw new TypeError(e)}});var D=c(ui=>{"use strict";Object.defineProperty(ui,"__esModule",{value:!0});var Qh=ts(),Hh=ot(),Kh=d();function Jh(r,t,e,n,i){if(i===void 0&&(i=new Qh.InnerSubscriber(r,e,n)),!i.closed)return t instanceof Kh.Observable?t.subscribe(i):Hh.subscribeTo(t)(i)}ui.subscribeToResult=Jh});var Ir=c(H=>{"use strict";var Zh=H&&H.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(H,"__esModule",{value:!0});var $h=E(),Xh=g(),eb=F(),tb=D(),rb=he(),us={};function nb(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];var e=void 0,n=void 0;return $h.isScheduler(r[r.length-1])&&(n=r.pop()),typeof r[r.length-1]=="function"&&(e=r.pop()),r.length===1&&Xh.isArray(r[0])&&(r=r[0]),rb.fromArray(r,n).lift(new ss(e))}H.combineLatest=nb;var ss=function(){function r(t){this.resultSelector=t}return r.prototype.call=function(t,e){return e.subscribe(new cs(t,this.resultSelector))},r}();H.CombineLatestOperator=ss;var cs=function(r){Zh(t,r);function t(e,n){var i=r.call(this,e)||this;return i.resultSelector=n,i.active=0,i.values=[],i.observables=[],i}return t.prototype._next=function(e){this.values.push(us),this.observables.push(e)},t.prototype._complete=function(){var e=this.observables,n=e.length;if(n===0)this.destination.complete();else{this.active=n,this.toRespond=n;for(var i=0;i<n;i++){var o=e[i];this.add(tb.subscribeToResult(this,o,void 0,i))}}},t.prototype.notifyComplete=function(e){(this.active-=1)===0&&this.destination.complete()},t.prototype.notifyNext=function(e,n,i){var o=this.values,u=o[i],s=this.toRespond?u===us?--this.toRespond:this.toRespond:0;o[i]=n,s===0&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))},t.prototype._tryResultSelector=function(e){var n;try{n=this.resultSelector.apply(this,e)}catch(i){this.destination.error(i);return}this.destination.next(n)},t}(eb.OuterSubscriber);H.CombineLatestSubscriber=cs});var as=c(si=>{"use strict";Object.defineProperty(si,"__esModule",{value:!0});var ib=d(),ob=O(),ub=Y();function sb(r,t){return new ib.Observable(function(e){var n=new ob.Subscription;return n.add(t.schedule(function(){var i=r[ub.observable]();n.add(i.subscribe({next:function(o){n.add(t.schedule(function(){return e.next(o)}))},error:function(o){n.add(t.schedule(function(){return e.error(o)}))},complete:function(){n.add(t.schedule(function(){return e.complete()}))}}))})),n})}si.scheduleObservable=sb});var fs=c(ci=>{"use strict";Object.defineProperty(ci,"__esModule",{value:!0});var cb=d(),ab=O();function fb(r,t){return new cb.Observable(function(e){var n=new ab.Subscription;return n.add(t.schedule(function(){return r.then(function(i){n.add(t.schedule(function(){e.next(i),n.add(t.schedule(function(){return e.complete()}))}))},function(i){n.add(t.schedule(function(){return e.error(i)}))})})),n})}ci.schedulePromise=fb});var ls=c(ai=>{"use strict";Object.defineProperty(ai,"__esModule",{value:!0});var lb=d(),pb=O(),hb=me();function bb(r,t){if(!r)throw new Error("Iterable cannot be null");return new lb.Observable(function(e){var n=new pb.Subscription,i;return n.add(function(){i&&typeof i.return=="function"&&i.return()}),n.add(t.schedule(function(){i=r[hb.iterator](),n.add(t.schedule(function(){if(!e.closed){var o,u;try{var s=i.next();o=s.value,u=s.done}catch(f){e.error(f);return}u?e.complete():(e.next(o),this.schedule())}}))})),n})}ai.scheduleIterable=bb});var ps=c(fi=>{"use strict";Object.defineProperty(fi,"__esModule",{value:!0});var _b=Y();function vb(r){return r&&typeof r[_b.observable]=="function"}fi.isInteropObservable=vb});var hs=c(li=>{"use strict";Object.defineProperty(li,"__esModule",{value:!0});var db=me();function yb(r){return r&&typeof r[db.iterator]=="function"}li.isIterable=yb});var hi=c(pi=>{"use strict";Object.defineProperty(pi,"__esModule",{value:!0});var mb=as(),Sb=fs(),Ob=Pr(),wb=ls(),gb=ps(),xb=ii(),qb=ri(),jb=hs();function Pb(r,t){if(r!=null){if(gb.isInteropObservable(r))return mb.scheduleObservable(r,t);if(xb.isPromise(r))return Sb.schedulePromise(r,t);if(qb.isArrayLike(r))return Ob.scheduleArray(r,t);if(jb.isIterable(r)||typeof r=="string")return wb.scheduleIterable(r,t)}throw new TypeError((r!==null&&typeof r||r)+" is not observable")}pi.scheduled=Pb});var A=c(bi=>{"use strict";Object.defineProperty(bi,"__esModule",{value:!0});var bs=d(),Eb=ot(),Ab=hi();function Tb(r,t){return t?Ab.scheduled(r,t):r instanceof bs.Observable?r:new bs.Observable(Eb.subscribeTo(r))}bi.from=Tb});var y=c(N=>{"use strict";var Nr=N&&N.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(N,"__esModule",{value:!0});var Rr=_(),Mb=d(),Cb=ot(),Ib=function(r){Nr(t,r);function t(e){var n=r.call(this)||this;return n.parent=e,n}return t.prototype._next=function(e){this.parent.notifyNext(e)},t.prototype._error=function(e){this.parent.notifyError(e),this.unsubscribe()},t.prototype._complete=function(){this.parent.notifyComplete(),this.unsubscribe()},t}(Rr.Subscriber);N.SimpleInnerSubscriber=Ib;var Nb=function(r){Nr(t,r);function t(e,n,i){var o=r.call(this)||this;return o.parent=e,o.outerValue=n,o.outerIndex=i,o}return t.prototype._next=function(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this)},t.prototype._error=function(e){this.parent.notifyError(e),this.unsubscribe()},t.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},t}(Rr.Subscriber);N.ComplexInnerSubscriber=Nb;var Rb=function(r){Nr(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.notifyNext=function(e){this.destination.next(e)},t.prototype.notifyError=function(e){this.destination.error(e)},t.prototype.notifyComplete=function(){this.destination.complete()},t}(Rr.Subscriber);N.SimpleOuterSubscriber=Rb;var kb=function(r){Nr(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.notifyNext=function(e,n,i,o){this.destination.next(n)},t.prototype.notifyError=function(e){this.destination.error(e)},t.prototype.notifyComplete=function(e){this.destination.complete()},t}(Rr.Subscriber);N.ComplexOuterSubscriber=kb;function Vb(r,t){if(!t.closed){if(r instanceof Mb.Observable)return r.subscribe(t);var e;try{e=Cb.subscribeTo(r)(t)}catch(n){t.error(n)}return e}}N.innerSubscribe=Vb});var ut=c(U=>{"use strict";var Wb=U&&U.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(U,"__esModule",{value:!0});var Fb=j(),Db=A(),_i=y();function vi(r,t,e){return e===void 0&&(e=Number.POSITIVE_INFINITY),typeof t=="function"?function(n){return n.pipe(vi(function(i,o){return Db.from(r(i,o)).pipe(Fb.map(function(u,s){return t(i,u,o,s)}))},e))}:(typeof t=="number"&&(e=t),function(n){return n.lift(new _s(r,e))})}U.mergeMap=vi;var _s=function(){function r(t,e){e===void 0&&(e=Number.POSITIVE_INFINITY),this.project=t,this.concurrent=e}return r.prototype.call=function(t,e){return e.subscribe(new vs(t,this.project,this.concurrent))},r}();U.MergeMapOperator=_s;var vs=function(r){Wb(t,r);function t(e,n,i){i===void 0&&(i=Number.POSITIVE_INFINITY);var o=r.call(this,e)||this;return o.project=n,o.concurrent=i,o.hasCompleted=!1,o.buffer=[],o.active=0,o.index=0,o}return t.prototype._next=function(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)},t.prototype._tryNext=function(e){var n,i=this.index++;try{n=this.project(e,i)}catch(o){this.destination.error(o);return}this.active++,this._innerSub(n)},t.prototype._innerSub=function(e){var n=new _i.SimpleInnerSubscriber(this),i=this.destination;i.add(n);var o=_i.innerSubscribe(e,n);o!==n&&i.add(o)},t.prototype._complete=function(){this.hasCompleted=!0,this.active===0&&this.buffer.length===0&&this.destination.complete(),this.unsubscribe()},t.prototype.notifyNext=function(e){this.destination.next(e)},t.prototype.notifyComplete=function(){var e=this.buffer;this.active--,e.length>0?this._next(e.shift()):this.active===0&&this.hasCompleted&&this.destination.complete()},t}(_i.SimpleOuterSubscriber);U.MergeMapSubscriber=vs;U.flatMap=vi});var kr=c(di=>{"use strict";Object.defineProperty(di,"__esModule",{value:!0});var Ub=ut(),Bb=V();function Lb(r){return r===void 0&&(r=Number.POSITIVE_INFINITY),Ub.mergeMap(Bb.identity,r)}di.mergeAll=Lb});var mi=c(yi=>{"use strict";Object.defineProperty(yi,"__esModule",{value:!0});var zb=kr();function Gb(){return zb.mergeAll(1)}yi.concatAll=Gb});var st=c(Si=>{"use strict";Object.defineProperty(Si,"__esModule",{value:!0});var Yb=ze(),Qb=mi();function Hb(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];return Qb.concatAll()(Yb.of.apply(void 0,r))}Si.concat=Hb});var Vr=c(Oi=>{"use strict";Object.defineProperty(Oi,"__esModule",{value:!0});var Kb=d(),Jb=A(),Zb=P();function $b(r){return new Kb.Observable(function(t){var e;try{e=r()}catch(i){t.error(i);return}var n=e?Jb.from(e):Zb.empty();return n.subscribe(t)})}Oi.defer=$b});var ys=c(wi=>{"use strict";Object.defineProperty(wi,"__esModule",{value:!0});var Xb=d(),ds=g(),e_=j(),t_=dr(),r_=A();function n_(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];if(r.length===1){var e=r[0];if(ds.isArray(e))return Wr(e,null);if(t_.isObject(e)&&Object.getPrototypeOf(e)===Object.prototype){var n=Object.keys(e);return Wr(n.map(function(o){return e[o]}),n)}}if(typeof r[r.length-1]=="function"){var i=r.pop();return r=r.length===1&&ds.isArray(r[0])?r[0]:r,Wr(r,null).pipe(e_.map(function(o){return i.apply(void 0,o)}))}return Wr(r,null)}wi.forkJoin=n_;function Wr(r,t){return new Xb.Observable(function(e){var n=r.length;if(n===0){e.complete();return}for(var i=new Array(n),o=0,u=0,s=function(a){var p=r_.from(r[a]),b=!1;e.add(p.subscribe({next:function(v){b||(b=!0,u++),i[a]=v},error:function(v){return e.error(v)},complete:function(){o++,(o===n||!b)&&(u===n&&e.next(t?t.reduce(function(v,q,I){return v[q]=i[I],v},{}):i),e.complete())}}))},f=0;f<n;f++)s(f)})}});var Os=c(gi=>{"use strict";Object.defineProperty(gi,"__esModule",{value:!0});var i_=d(),o_=g(),u_=ue(),s_=j(),G0=function(){return Object.prototype.toString}();function ms(r,t,e,n){return u_.isFunction(e)&&(n=e,e=void 0),n?ms(r,t,e).pipe(s_.map(function(i){return o_.isArray(i)?n.apply(void 0,i):n(i)})):new i_.Observable(function(i){function o(u){arguments.length>1?i.next(Array.prototype.slice.call(arguments)):i.next(u)}Ss(r,t,o,i,e)})}gi.fromEvent=ms;function Ss(r,t,e,n,i){var o;if(f_(r)){var u=r;r.addEventListener(t,e,i),o=function(){return u.removeEventListener(t,e,i)}}else if(a_(r)){var s=r;r.on(t,e),o=function(){return s.off(t,e)}}else if(c_(r)){var f=r;r.addListener(t,e),o=function(){return f.removeListener(t,e)}}else if(r&&r.length)for(var a=0,p=r.length;a<p;a++)Ss(r[a],t,e,n,i);else throw new TypeError("Invalid event target");n.add(o)}function c_(r){return r&&typeof r.addListener=="function"&&typeof r.removeListener=="function"}function a_(r){return r&&typeof r.on=="function"&&typeof r.off=="function"}function f_(r){return r&&typeof r.addEventListener=="function"&&typeof r.removeEventListener=="function"}});var gs=c(xi=>{"use strict";Object.defineProperty(xi,"__esModule",{value:!0});var l_=d(),p_=g(),h_=ue(),b_=j();function ws(r,t,e){return e?ws(r,t).pipe(b_.map(function(n){return p_.isArray(n)?e.apply(void 0,n):e(n)})):new l_.Observable(function(n){var i=function(){for(var u=[],s=0;s<arguments.length;s++)u[s]=arguments[s];return n.next(u.length===1?u[0]:u)},o;try{o=r(i)}catch(u){n.error(u);return}if(!!h_.isFunction(t))return function(){return t(i,o)}})}xi.fromEventPattern=ws});var qs=c(qi=>{"use strict";Object.defineProperty(qi,"__esModule",{value:!0});var __=d(),xs=V(),v_=E();function d_(r,t,e,n,i){var o,u;if(arguments.length==1){var s=r;u=s.initialState,t=s.condition,e=s.iterate,o=s.resultSelector||xs.identity,i=s.scheduler}else n===void 0||v_.isScheduler(n)?(u=r,o=xs.identity,i=n):(u=r,o=n);return new __.Observable(function(f){var a=u;if(i)return i.schedule(y_,0,{subscriber:f,iterate:e,condition:t,resultSelector:o,state:a});do{if(t){var p=void 0;try{p=t(a)}catch(v){f.error(v);return}if(!p){f.complete();break}}var b=void 0;try{b=o(a)}catch(v){f.error(v);return}if(f.next(b),f.closed)break;try{a=e(a)}catch(v){f.error(v);return}}while(!0)})}qi.generate=d_;function y_(r){var t=r.subscriber,e=r.condition;if(!t.closed){if(r.needIterate)try{r.state=r.iterate(r.state)}catch(o){t.error(o);return}else r.needIterate=!0;if(e){var n=void 0;try{n=e(r.state)}catch(o){t.error(o);return}if(!n){t.complete();return}if(t.closed)return}var i;try{i=r.resultSelector(r.state)}catch(o){t.error(o);return}if(!t.closed&&(t.next(i),!t.closed))return this.schedule(r)}}});var Ps=c(ji=>{"use strict";Object.defineProperty(ji,"__esModule",{value:!0});var m_=Vr(),js=P();function S_(r,t,e){return t===void 0&&(t=js.EMPTY),e===void 0&&(e=js.EMPTY),m_.defer(function(){return r()?t:e})}ji.iif=S_});var ct=c(Pi=>{"use strict";Object.defineProperty(Pi,"__esModule",{value:!0});var O_=g();function w_(r){return!O_.isArray(r)&&r-parseFloat(r)+1>=0}Pi.isNumeric=w_});var As=c(Ei=>{"use strict";Object.defineProperty(Ei,"__esModule",{value:!0});var g_=d(),Es=x(),x_=ct();function q_(r,t){return r===void 0&&(r=0),t===void 0&&(t=Es.async),(!x_.isNumeric(r)||r<0)&&(r=0),(!t||typeof t.schedule!="function")&&(t=Es.async),new g_.Observable(function(e){return e.add(t.schedule(j_,r,{subscriber:e,counter:0,period:r})),e})}Ei.interval=q_;function j_(r){var t=r.subscriber,e=r.counter,n=r.period;t.next(e),this.schedule({subscriber:t,counter:e+1,period:n},n)}});var Ti=c(Ai=>{"use strict";Object.defineProperty(Ai,"__esModule",{value:!0});var P_=d(),E_=E(),A_=kr(),T_=he();function M_(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];var e=Number.POSITIVE_INFINITY,n=null,i=r[r.length-1];return E_.isScheduler(i)?(n=r.pop(),r.length>1&&typeof r[r.length-1]=="number"&&(e=r.pop())):typeof i=="number"&&(e=r.pop()),n===null&&r.length===1&&r[0]instanceof P_.Observable?r[0]:A_.mergeAll(e)(T_.fromArray(r,n))}Ai.merge=M_});var Mi=c(at=>{"use strict";Object.defineProperty(at,"__esModule",{value:!0});var C_=d(),I_=Cr();at.NEVER=new C_.Observable(I_.noop);function N_(){return at.NEVER}at.never=N_});var Ts=c(Ii=>{"use strict";Object.defineProperty(Ii,"__esModule",{value:!0});var R_=d(),k_=A(),V_=g(),W_=P();function Ci(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];if(r.length===0)return W_.EMPTY;var e=r[0],n=r.slice(1);return r.length===1&&V_.isArray(e)?Ci.apply(void 0,e):new R_.Observable(function(i){var o=function(){return i.add(Ci.apply(void 0,n).subscribe(i))};return k_.from(e).subscribe({next:function(u){i.next(u)},error:o,complete:o})})}Ii.onErrorResumeNext=Ci});var Is=c(Fr=>{"use strict";Object.defineProperty(Fr,"__esModule",{value:!0});var Ms=d(),F_=O();function D_(r,t){return t?new Ms.Observable(function(e){var n=Object.keys(r),i=new F_.Subscription;return i.add(t.schedule(Cs,0,{keys:n,index:0,subscriber:e,subscription:i,obj:r})),i}):new Ms.Observable(function(e){for(var n=Object.keys(r),i=0;i<n.length&&!e.closed;i++){var o=n[i];r.hasOwnProperty(o)&&e.next([o,r[o]])}e.complete()})}Fr.pairs=D_;function Cs(r){var t=r.keys,e=r.index,n=r.subscriber,i=r.subscription,o=r.obj;if(!n.closed)if(e<t.length){var u=t[e];n.next([u,o[u]]),i.add(this.schedule({keys:t,index:e+1,subscriber:n,subscription:i,obj:o}))}else n.complete()}Fr.dispatch=Cs});var Ri=c(Ni=>{"use strict";Object.defineProperty(Ni,"__esModule",{value:!0});function U_(r,t){function e(){return!e.pred.apply(e.thisArg,arguments)}return e.pred=r,e.thisArg=t,e}Ni.not=U_});var K=c(ft=>{"use strict";var B_=ft&&ft.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(ft,"__esModule",{value:!0});var L_=_();function z_(r,t){return function(n){return n.lift(new G_(r,t))}}ft.filter=z_;var G_=function(){function r(t,e){this.predicate=t,this.thisArg=e}return r.prototype.call=function(t,e){return e.subscribe(new Y_(t,this.predicate,this.thisArg))},r}(),Y_=function(r){B_(t,r);function t(e,n,i){var o=r.call(this,e)||this;return o.predicate=n,o.thisArg=i,o.count=0,o}return t.prototype._next=function(e){var n;try{n=this.predicate.call(this.thisArg,e,this.count++)}catch(i){this.destination.error(i);return}n&&this.destination.next(e)},t}(L_.Subscriber)});var Vs=c(ki=>{"use strict";Object.defineProperty(ki,"__esModule",{value:!0});var Q_=Ri(),Ns=ot(),Rs=K(),ks=d();function H_(r,t,e){return[Rs.filter(t,e)(new ks.Observable(Ns.subscribeTo(r))),Rs.filter(Q_.not(t,e))(new ks.Observable(Ns.subscribeTo(r)))]}ki.partition=H_});var Vi=c(J=>{"use strict";var K_=J&&J.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(J,"__esModule",{value:!0});var J_=g(),Z_=he(),$_=F(),X_=D();function ev(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];if(r.length===1)if(J_.isArray(r[0]))r=r[0];else return r[0];return Z_.fromArray(r,void 0).lift(new Ws)}J.race=ev;var Ws=function(){function r(){}return r.prototype.call=function(t,e){return e.subscribe(new Fs(t))},r}();J.RaceOperator=Ws;var Fs=function(r){K_(t,r);function t(e){var n=r.call(this,e)||this;return n.hasFirst=!1,n.observables=[],n.subscriptions=[],n}return t.prototype._next=function(e){this.observables.push(e)},t.prototype._complete=function(){var e=this.observables,n=e.length;if(n===0)this.destination.complete();else{for(var i=0;i<n&&!this.hasFirst;i++){var o=e[i],u=X_.subscribeToResult(this,o,void 0,i);this.subscriptions&&this.subscriptions.push(u),this.add(u)}this.observables=null}},t.prototype.notifyNext=function(e,n,i){if(!this.hasFirst){this.hasFirst=!0;for(var o=0;o<this.subscriptions.length;o++)if(o!==i){var u=this.subscriptions[o];u.unsubscribe(),this.remove(u)}this.subscriptions=null}this.destination.next(n)},t}($_.OuterSubscriber);J.RaceSubscriber=Fs});var Us=c(Dr=>{"use strict";Object.defineProperty(Dr,"__esModule",{value:!0});var tv=d();function rv(r,t,e){return r===void 0&&(r=0),new tv.Observable(function(n){t===void 0&&(t=r,r=0);var i=0,o=r;if(e)return e.schedule(Ds,0,{index:i,count:t,start:r,subscriber:n});do{if(i++>=t){n.complete();break}if(n.next(o++),n.closed)break}while(!0)})}Dr.range=rv;function Ds(r){var t=r.start,e=r.index,n=r.count,i=r.subscriber;if(e>=n){i.complete();return}i.next(t),!i.closed&&(r.index=e+1,r.start=t+1,this.schedule(r))}Dr.dispatch=Ds});var Fi=c(Wi=>{"use strict";Object.defineProperty(Wi,"__esModule",{value:!0});var nv=d(),iv=x(),Bs=ct(),Ls=E();function ov(r,t,e){r===void 0&&(r=0);var n=-1;return Bs.isNumeric(t)?n=Number(t)<1&&1||Number(t):Ls.isScheduler(t)&&(e=t),Ls.isScheduler(e)||(e=iv.async),new nv.Observable(function(i){var o=Bs.isNumeric(r)?r:+r-e.now();return e.schedule(uv,o,{index:0,period:n,subscriber:i})})}Wi.timer=ov;function uv(r){var t=r.index,e=r.period,n=r.subscriber;if(n.next(t),!n.closed){if(e===-1)return n.complete();r.index=t+1,this.schedule(r,e)}}});var zs=c(Di=>{"use strict";Object.defineProperty(Di,"__esModule",{value:!0});var sv=d(),cv=A(),av=P();function fv(r,t){return new sv.Observable(function(e){var n;try{n=r()}catch(s){e.error(s);return}var i;try{i=t(n)}catch(s){e.error(s);return}var o=i?cv.from(i):av.EMPTY,u=o.subscribe(e);return function(){u.unsubscribe(),n&&n.unsubscribe()}})}Di.using=fv});var Br=c(Z=>{"use strict";var Gs=Z&&Z.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(Z,"__esModule",{value:!0});var lv=he(),pv=g(),hv=_(),Ur=me(),Ui=y();function bv(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];var e=r[r.length-1];return typeof e=="function"&&r.pop(),lv.fromArray(r,void 0).lift(new Ys(e))}Z.zip=bv;var Ys=function(){function r(t){this.resultSelector=t}return r.prototype.call=function(t,e){return e.subscribe(new Qs(t,this.resultSelector))},r}();Z.ZipOperator=Ys;var Qs=function(r){Gs(t,r);function t(e,n,i){i===void 0&&(i=Object.create(null));var o=r.call(this,e)||this;return o.resultSelector=n,o.iterators=[],o.active=0,o.resultSelector=typeof n=="function"?n:void 0,o}return t.prototype._next=function(e){var n=this.iterators;pv.isArray(e)?n.push(new vv(e)):typeof e[Ur.iterator]=="function"?n.push(new _v(e[Ur.iterator]())):n.push(new dv(this.destination,this,e))},t.prototype._complete=function(){var e=this.iterators,n=e.length;if(this.unsubscribe(),n===0){this.destination.complete();return}this.active=n;for(var i=0;i<n;i++){var o=e[i];if(o.stillUnsubscribed){var u=this.destination;u.add(o.subscribe())}else this.active--}},t.prototype.notifyInactive=function(){this.active--,this.active===0&&this.destination.complete()},t.prototype.checkIterators=function(){for(var e=this.iterators,n=e.length,i=this.destination,o=0;o<n;o++){var u=e[o];if(typeof u.hasValue=="function"&&!u.hasValue())return}for(var s=!1,f=[],o=0;o<n;o++){var u=e[o],a=u.next();if(u.hasCompleted()&&(s=!0),a.done){i.complete();return}f.push(a.value)}this.resultSelector?this._tryresultSelector(f):i.next(f),s&&i.complete()},t.prototype._tryresultSelector=function(e){var n;try{n=this.resultSelector.apply(this,e)}catch(i){this.destination.error(i);return}this.destination.next(n)},t}(hv.Subscriber);Z.ZipSubscriber=Qs;var _v=function(){function r(t){this.iterator=t,this.nextResult=t.next()}return r.prototype.hasValue=function(){return!0},r.prototype.next=function(){var t=this.nextResult;return this.nextResult=this.iterator.next(),t},r.prototype.hasCompleted=function(){var t=this.nextResult;return Boolean(t&&t.done)},r}(),vv=function(){function r(t){this.array=t,this.index=0,this.length=0,this.length=t.length}return r.prototype[Ur.iterator]=function(){return this},r.prototype.next=function(t){var e=this.index++,n=this.array;return e<this.length?{value:n[e],done:!1}:{value:null,done:!0}},r.prototype.hasValue=function(){return this.array.length>this.index},r.prototype.hasCompleted=function(){return this.array.length===this.index},r}(),dv=function(r){Gs(t,r);function t(e,n,i){var o=r.call(this,e)||this;return o.parent=n,o.observable=i,o.stillUnsubscribed=!0,o.buffer=[],o.isComplete=!1,o}return t.prototype[Ur.iterator]=function(){return this},t.prototype.next=function(){var e=this.buffer;return e.length===0&&this.isComplete?{value:null,done:!0}:{value:e.shift(),done:!1}},t.prototype.hasValue=function(){return this.buffer.length>0},t.prototype.hasCompleted=function(){return this.buffer.length===0&&this.isComplete},t.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},t.prototype.notifyNext=function(e){this.buffer.push(e),this.parent.checkIterators()},t.prototype.subscribe=function(){return Ui.innerSubscribe(this.observable,new Ui.SimpleInnerSubscriber(this))},t}(Ui.SimpleOuterSubscriber)});var lt=c(h=>{"use strict";Object.defineProperty(h,"__esModule",{value:!0});var yv=d();h.Observable=yv.Observable;var mv=Pn();h.ConnectableObservable=mv.ConnectableObservable;var Sv=An();h.GroupedObservable=Sv.GroupedObservable;var Ov=Y();h.observable=Ov.observable;var wv=w();h.Subject=wv.Subject;var gv=Tn();h.BehaviorSubject=gv.BehaviorSubject;var xv=Ar();h.ReplaySubject=xv.ReplaySubject;var qv=Ke();h.AsyncSubject=qv.AsyncSubject;var Hs=Ln();h.asap=Hs.asap;h.asapScheduler=Hs.asapScheduler;var Ks=x();h.async=Ks.async;h.asyncScheduler=Ks.asyncScheduler;var Js=In();h.queue=Js.queue;h.queueScheduler=Js.queueScheduler;var Zs=Bu();h.animationFrame=Zs.animationFrame;h.animationFrameScheduler=Zs.animationFrameScheduler;var $s=Gu();h.VirtualTimeScheduler=$s.VirtualTimeScheduler;h.VirtualAction=$s.VirtualAction;var jv=Cn();h.Scheduler=jv.Scheduler;var Pv=O();h.Subscription=Pv.Subscription;var Ev=_();h.Subscriber=Ev.Subscriber;var Xs=Ye();h.Notification=Xs.Notification;h.NotificationKind=Xs.NotificationKind;var Av=gr();h.pipe=Av.pipe;var Tv=Cr();h.noop=Tv.noop;var Mv=V();h.identity=Mv.identity;var Cv=Yu();h.isObservable=Cv.isObservable;var Iv=_e();h.ArgumentOutOfRangeError=Iv.ArgumentOutOfRangeError;var Nv=ve();h.EmptyError=Nv.EmptyError;var Rv=Ce();h.ObjectUnsubscribedError=Rv.ObjectUnsubscribedError;var kv=ln();h.UnsubscriptionError=kv.UnsubscriptionError;var Vv=Kn();h.TimeoutError=Vv.TimeoutError;var Wv=Ju();h.bindCallback=Wv.bindCallback;var Fv=es();h.bindNodeCallback=Fv.bindNodeCallback;var Dv=Ir();h.combineLatest=Dv.combineLatest;var Uv=st();h.concat=Uv.concat;var Bv=Vr();h.defer=Bv.defer;var Lv=P();h.empty=Lv.empty;var zv=ys();h.forkJoin=zv.forkJoin;var Gv=A();h.from=Gv.from;var Yv=Os();h.fromEvent=Yv.fromEvent;var Qv=gs();h.fromEventPattern=Qv.fromEventPattern;var Hv=qs();h.generate=Hv.generate;var Kv=Ps();h.iif=Kv.iif;var Jv=As();h.interval=Jv.interval;var Zv=Ti();h.merge=Zv.merge;var $v=Mi();h.never=$v.never;var Xv=ze();h.of=Xv.of;var ed=Ts();h.onErrorResumeNext=ed.onErrorResumeNext;var td=Is();h.pairs=td.pairs;var rd=Vs();h.partition=rd.partition;var nd=Vi();h.race=nd.race;var id=Us();h.range=id.range;var od=Er();h.throwError=od.throwError;var ud=Fi();h.timer=ud.timer;var sd=zs();h.using=sd.using;var cd=Br();h.zip=cd.zip;var ad=hi();h.scheduled=ad.scheduled;var fd=P();h.EMPTY=fd.EMPTY;var ld=Mi();h.NEVER=ld.NEVER;var pd=Te();h.config=pd.config});var Li=c(pt=>{"use strict";var hd=pt&&pt.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(pt,"__esModule",{value:!0});var Bi=y();function bd(r){return function(e){return e.lift(new _d(r))}}pt.audit=bd;var _d=function(){function r(t){this.durationSelector=t}return r.prototype.call=function(t,e){return e.subscribe(new vd(t,this.durationSelector))},r}(),vd=function(r){hd(t,r);function t(e,n){var i=r.call(this,e)||this;return i.durationSelector=n,i.hasValue=!1,i}return t.prototype._next=function(e){if(this.value=e,this.hasValue=!0,!this.throttled){var n=void 0;try{var i=this.durationSelector;n=i(e)}catch(u){return this.destination.error(u)}var o=Bi.innerSubscribe(n,new Bi.SimpleInnerSubscriber(this));!o||o.closed?this.clearThrottle():this.add(this.throttled=o)}},t.prototype.clearThrottle=function(){var e=this,n=e.value,i=e.hasValue,o=e.throttled;o&&(this.remove(o),this.throttled=void 0,o.unsubscribe()),i&&(this.value=void 0,this.hasValue=!1,this.destination.next(n))},t.prototype.notifyNext=function(){this.clearThrottle()},t.prototype.notifyComplete=function(){this.clearThrottle()},t}(Bi.SimpleOuterSubscriber)});var ec=c(zi=>{"use strict";Object.defineProperty(zi,"__esModule",{value:!0});var dd=x(),yd=Li(),md=Fi();function Sd(r,t){return t===void 0&&(t=dd.async),yd.audit(function(){return md.timer(r,t)})}zi.auditTime=Sd});var tc=c(ht=>{"use strict";var Od=ht&&ht.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(ht,"__esModule",{value:!0});var Gi=y();function wd(r){return function(e){return e.lift(new gd(r))}}ht.buffer=wd;var gd=function(){function r(t){this.closingNotifier=t}return r.prototype.call=function(t,e){return e.subscribe(new xd(t,this.closingNotifier))},r}(),xd=function(r){Od(t,r);function t(e,n){var i=r.call(this,e)||this;return i.buffer=[],i.add(Gi.innerSubscribe(n,new Gi.SimpleInnerSubscriber(i))),i}return t.prototype._next=function(e){this.buffer.push(e)},t.prototype.notifyNext=function(){var e=this.buffer;this.buffer=[],this.destination.next(e)},t}(Gi.SimpleOuterSubscriber)});var ic=c(bt=>{"use strict";var rc=bt&&bt.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(bt,"__esModule",{value:!0});var nc=_();function qd(r,t){return t===void 0&&(t=null),function(n){return n.lift(new jd(r,t))}}bt.bufferCount=qd;var jd=function(){function r(t,e){this.bufferSize=t,this.startBufferEvery=e,!e||t===e?this.subscriberClass=Pd:this.subscriberClass=Ed}return r.prototype.call=function(t,e){return e.subscribe(new this.subscriberClass(t,this.bufferSize,this.startBufferEvery))},r}(),Pd=function(r){rc(t,r);function t(e,n){var i=r.call(this,e)||this;return i.bufferSize=n,i.buffer=[],i}return t.prototype._next=function(e){var n=this.buffer;n.push(e),n.length==this.bufferSize&&(this.destination.next(n),this.buffer=[])},t.prototype._complete=function(){var e=this.buffer;e.length>0&&this.destination.next(e),r.prototype._complete.call(this)},t}(nc.Subscriber),Ed=function(r){rc(t,r);function t(e,n,i){var o=r.call(this,e)||this;return o.bufferSize=n,o.startBufferEvery=i,o.buffers=[],o.count=0,o}return t.prototype._next=function(e){var n=this,i=n.bufferSize,o=n.startBufferEvery,u=n.buffers,s=n.count;this.count++,s%o===0&&u.push([]);for(var f=u.length;f--;){var a=u[f];a.push(e),a.length===i&&(u.splice(f,1),this.destination.next(a))}},t.prototype._complete=function(){for(var e=this,n=e.buffers,i=e.destination;n.length>0;){var o=n.shift();o.length>0&&i.next(o)}r.prototype._complete.call(this)},t}(nc.Subscriber)});var sc=c(_t=>{"use strict";var Ad=_t&&_t.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(_t,"__esModule",{value:!0});var Td=x(),Md=_(),Cd=E();function Id(r){var t=arguments.length,e=Td.async;Cd.isScheduler(arguments[arguments.length-1])&&(e=arguments[arguments.length-1],t--);var n=null;t>=2&&(n=arguments[1]);var i=Number.POSITIVE_INFINITY;return t>=3&&(i=arguments[2]),function(u){return u.lift(new Nd(r,n,i,e))}}_t.bufferTime=Id;var Nd=function(){function r(t,e,n,i){this.bufferTimeSpan=t,this.bufferCreationInterval=e,this.maxBufferSize=n,this.scheduler=i}return r.prototype.call=function(t,e){return e.subscribe(new kd(t,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))},r}(),Rd=function(){function r(){this.buffer=[]}return r}(),kd=function(r){Ad(t,r);function t(e,n,i,o,u){var s=r.call(this,e)||this;s.bufferTimeSpan=n,s.bufferCreationInterval=i,s.maxBufferSize=o,s.scheduler=u,s.contexts=[];var f=s.openContext();if(s.timespanOnly=i==null||i<0,s.timespanOnly){var a={subscriber:s,context:f,bufferTimeSpan:n};s.add(f.closeAction=u.schedule(oc,n,a))}else{var p={subscriber:s,context:f},b={bufferTimeSpan:n,bufferCreationInterval:i,subscriber:s,scheduler:u};s.add(f.closeAction=u.schedule(uc,n,p)),s.add(u.schedule(Vd,i,b))}return s}return t.prototype._next=function(e){for(var n=this.contexts,i=n.length,o,u=0;u<i;u++){var s=n[u],f=s.buffer;f.push(e),f.length==this.maxBufferSize&&(o=s)}o&&this.onBufferFull(o)},t.prototype._error=function(e){this.contexts.length=0,r.prototype._error.call(this,e)},t.prototype._complete=function(){for(var e=this,n=e.contexts,i=e.destination;n.length>0;){var o=n.shift();i.next(o.buffer)}r.prototype._complete.call(this)},t.prototype._unsubscribe=function(){this.contexts=null},t.prototype.onBufferFull=function(e){this.closeContext(e);var n=e.closeAction;if(n.unsubscribe(),this.remove(n),!this.closed&&this.timespanOnly){e=this.openContext();var i=this.bufferTimeSpan,o={subscriber:this,context:e,bufferTimeSpan:i};this.add(e.closeAction=this.scheduler.schedule(oc,i,o))}},t.prototype.openContext=function(){var e=new Rd;return this.contexts.push(e),e},t.prototype.closeContext=function(e){this.destination.next(e.buffer);var n=this.contexts,i=n?n.indexOf(e):-1;i>=0&&n.splice(n.indexOf(e),1)},t}(Md.Subscriber);function oc(r){var t=r.subscriber,e=r.context;e&&t.closeContext(e),t.closed||(r.context=t.openContext(),r.context.closeAction=this.schedule(r,r.bufferTimeSpan))}function Vd(r){var t=r.bufferCreationInterval,e=r.bufferTimeSpan,n=r.subscriber,i=r.scheduler,o=n.openContext(),u=this;n.closed||(n.add(o.closeAction=i.schedule(uc,e,{subscriber:n,context:o})),u.schedule(r,t))}function uc(r){var t=r.subscriber,e=r.context;t.closeContext(e)}});var ac=c(vt=>{"use strict";var Wd=vt&&vt.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(vt,"__esModule",{value:!0});var Fd=O(),cc=D(),Dd=F();function Ud(r,t){return function(n){return n.lift(new Bd(r,t))}}vt.bufferToggle=Ud;var Bd=function(){function r(t,e){this.openings=t,this.closingSelector=e}return r.prototype.call=function(t,e){return e.subscribe(new Ld(t,this.openings,this.closingSelector))},r}(),Ld=function(r){Wd(t,r);function t(e,n,i){var o=r.call(this,e)||this;return o.closingSelector=i,o.contexts=[],o.add(cc.subscribeToResult(o,n)),o}return t.prototype._next=function(e){for(var n=this.contexts,i=n.length,o=0;o<i;o++)n[o].buffer.push(e)},t.prototype._error=function(e){for(var n=this.contexts;n.length>0;){var i=n.shift();i.subscription.unsubscribe(),i.buffer=null,i.subscription=null}this.contexts=null,r.prototype._error.call(this,e)},t.prototype._complete=function(){for(var e=this.contexts;e.length>0;){var n=e.shift();this.destination.next(n.buffer),n.subscription.unsubscribe(),n.buffer=null,n.subscription=null}this.contexts=null,r.prototype._complete.call(this)},t.prototype.notifyNext=function(e,n){e?this.closeBuffer(e):this.openBuffer(n)},t.prototype.notifyComplete=function(e){this.closeBuffer(e.context)},t.prototype.openBuffer=function(e){try{var n=this.closingSelector,i=n.call(this,e);i&&this.trySubscribe(i)}catch(o){this._error(o)}},t.prototype.closeBuffer=function(e){var n=this.contexts;if(n&&e){var i=e.buffer,o=e.subscription;this.destination.next(i),n.splice(n.indexOf(e),1),this.remove(o),o.unsubscribe()}},t.prototype.trySubscribe=function(e){var n=this.contexts,i=[],o=new Fd.Subscription,u={buffer:i,subscription:o};n.push(u);var s=cc.subscribeToResult(this,e,u);!s||s.closed?this.closeBuffer(u):(s.context=u,this.add(s),o.add(s))},t}(Dd.OuterSubscriber)});var fc=c(dt=>{"use strict";var zd=dt&&dt.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(dt,"__esModule",{value:!0});var Gd=O(),Yi=y();function Yd(r){return function(t){return t.lift(new Qd(r))}}dt.bufferWhen=Yd;var Qd=function(){function r(t){this.closingSelector=t}return r.prototype.call=function(t,e){return e.subscribe(new Hd(t,this.closingSelector))},r}(),Hd=function(r){zd(t,r);function t(e,n){var i=r.call(this,e)||this;return i.closingSelector=n,i.subscribing=!1,i.openBuffer(),i}return t.prototype._next=function(e){this.buffer.push(e)},t.prototype._complete=function(){var e=this.buffer;e&&this.destination.next(e),r.prototype._complete.call(this)},t.prototype._unsubscribe=function(){this.buffer=void 0,this.subscribing=!1},t.prototype.notifyNext=function(){this.openBuffer()},t.prototype.notifyComplete=function(){this.subscribing?this.complete():this.openBuffer()},t.prototype.openBuffer=function(){var e=this.closingSubscription;e&&(this.remove(e),e.unsubscribe());var n=this.buffer;this.buffer&&this.destination.next(n),this.buffer=[];var i;try{var o=this.closingSelector;i=o()}catch(u){return this.error(u)}e=new Gd.Subscription,this.closingSubscription=e,this.add(e),this.subscribing=!0,e.add(Yi.innerSubscribe(i,new Yi.SimpleInnerSubscriber(this))),this.subscribing=!1},t}(Yi.SimpleOuterSubscriber)});var lc=c(yt=>{"use strict";var Kd=yt&&yt.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(yt,"__esModule",{value:!0});var Qi=y();function Jd(r){return function(e){var n=new Zd(r),i=e.lift(n);return n.caught=i}}yt.catchError=Jd;var Zd=function(){function r(t){this.selector=t}return r.prototype.call=function(t,e){return e.subscribe(new $d(t,this.selector,this.caught))},r}(),$d=function(r){Kd(t,r);function t(e,n,i){var o=r.call(this,e)||this;return o.selector=n,o.caught=i,o}return t.prototype.error=function(e){if(!this.isStopped){var n=void 0;try{n=this.selector(e,this.caught)}catch(u){r.prototype.error.call(this,u);return}this._unsubscribeAndRecycle();var i=new Qi.SimpleInnerSubscriber(this);this.add(i);var o=Qi.innerSubscribe(n,i);o!==i&&this.add(o)}},t}(Qi.SimpleOuterSubscriber)});var pc=c(Hi=>{"use strict";Object.defineProperty(Hi,"__esModule",{value:!0});var Xd=Ir();function ey(r){return function(t){return t.lift(new Xd.CombineLatestOperator(r))}}Hi.combineAll=ey});var hc=c(Ki=>{"use strict";Object.defineProperty(Ki,"__esModule",{value:!0});var ty=g(),ry=Ir(),ny=A();function iy(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];var e=null;return typeof r[r.length-1]=="function"&&(e=r.pop()),r.length===1&&ty.isArray(r[0])&&(r=r[0].slice()),function(n){return n.lift.call(ny.from([n].concat(r)),new ry.CombineLatestOperator(e))}}Ki.combineLatest=iy});var bc=c(Ji=>{"use strict";Object.defineProperty(Ji,"__esModule",{value:!0});var oy=st();function uy(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];return function(e){return e.lift.call(oy.concat.apply(void 0,[e].concat(r)))}}Ji.concat=uy});var $i=c(Zi=>{"use strict";Object.defineProperty(Zi,"__esModule",{value:!0});var sy=ut();function cy(r,t){return sy.mergeMap(r,t,1)}Zi.concatMap=cy});var _c=c(Xi=>{"use strict";Object.defineProperty(Xi,"__esModule",{value:!0});var ay=$i();function fy(r,t){return ay.concatMap(function(){return r},t)}Xi.concatMapTo=fy});var vc=c(mt=>{"use strict";var ly=mt&&mt.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(mt,"__esModule",{value:!0});var py=_();function hy(r){return function(t){return t.lift(new by(r,t))}}mt.count=hy;var by=function(){function r(t,e){this.predicate=t,this.source=e}return r.prototype.call=function(t,e){return e.subscribe(new _y(t,this.predicate,this.source))},r}(),_y=function(r){ly(t,r);function t(e,n,i){var o=r.call(this,e)||this;return o.predicate=n,o.source=i,o.count=0,o.index=0,o}return t.prototype._next=function(e){this.predicate?this._tryPredicate(e):this.count++},t.prototype._tryPredicate=function(e){var n;try{n=this.predicate(e,this.index++,this.source)}catch(i){this.destination.error(i);return}n&&this.count++},t.prototype._complete=function(){this.destination.next(this.count),this.destination.complete()},t}(py.Subscriber)});var dc=c(St=>{"use strict";var vy=St&&St.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(St,"__esModule",{value:!0});var eo=y();function dy(r){return function(t){return t.lift(new yy(r))}}St.debounce=dy;var yy=function(){function r(t){this.durationSelector=t}return r.prototype.call=function(t,e){return e.subscribe(new my(t,this.durationSelector))},r}(),my=function(r){vy(t,r);function t(e,n){var i=r.call(this,e)||this;return i.durationSelector=n,i.hasValue=!1,i}return t.prototype._next=function(e){try{var n=this.durationSelector.call(this,e);n&&this._tryNext(e,n)}catch(i){this.destination.error(i)}},t.prototype._complete=function(){this.emitValue(),this.destination.complete()},t.prototype._tryNext=function(e,n){var i=this.durationSubscription;this.value=e,this.hasValue=!0,i&&(i.unsubscribe(),this.remove(i)),i=eo.innerSubscribe(n,new eo.SimpleInnerSubscriber(this)),i&&!i.closed&&this.add(this.durationSubscription=i)},t.prototype.notifyNext=function(){this.emitValue()},t.prototype.notifyComplete=function(){this.emitValue()},t.prototype.emitValue=function(){if(this.hasValue){var e=this.value,n=this.durationSubscription;n&&(this.durationSubscription=void 0,n.unsubscribe(),this.remove(n)),this.value=void 0,this.hasValue=!1,r.prototype._next.call(this,e)}},t}(eo.SimpleOuterSubscriber)});var yc=c(Ot=>{"use strict";var Sy=Ot&&Ot.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(Ot,"__esModule",{value:!0});var Oy=_(),wy=x();function gy(r,t){return t===void 0&&(t=wy.async),function(e){return e.lift(new xy(r,t))}}Ot.debounceTime=gy;var xy=function(){function r(t,e){this.dueTime=t,this.scheduler=e}return r.prototype.call=function(t,e){return e.subscribe(new qy(t,this.dueTime,this.scheduler))},r}(),qy=function(r){Sy(t,r);function t(e,n,i){var o=r.call(this,e)||this;return o.dueTime=n,o.scheduler=i,o.debouncedSubscription=null,o.lastValue=null,o.hasValue=!1,o}return t.prototype._next=function(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(jy,this.dueTime,this))},t.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},t.prototype.debouncedNext=function(){if(this.clearDebounce(),this.hasValue){var e=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(e)}},t.prototype.clearDebounce=function(){var e=this.debouncedSubscription;e!==null&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)},t}(Oy.Subscriber);function jy(r){r.debouncedNext()}});var Se=c(wt=>{"use strict";var Py=wt&&wt.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(wt,"__esModule",{value:!0});var Ey=_();function Ay(r){return r===void 0&&(r=null),function(t){return t.lift(new Ty(r))}}wt.defaultIfEmpty=Ay;var Ty=function(){function r(t){this.defaultValue=t}return r.prototype.call=function(t,e){return e.subscribe(new My(t,this.defaultValue))},r}(),My=function(r){Py(t,r);function t(e,n){var i=r.call(this,e)||this;return i.defaultValue=n,i.isEmpty=!0,i}return t.prototype._next=function(e){this.isEmpty=!1,this.destination.next(e)},t.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},t}(Ey.Subscriber)});var ro=c(to=>{"use strict";Object.defineProperty(to,"__esModule",{value:!0});function Cy(r){return r instanceof Date&&!isNaN(+r)}to.isDate=Cy});var Sc=c(gt=>{"use strict";var Iy=gt&&gt.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(gt,"__esModule",{value:!0});var Ny=x(),Ry=ro(),ky=_(),mc=Ye();function Vy(r,t){t===void 0&&(t=Ny.async);var e=Ry.isDate(r),n=e?+r-t.now():Math.abs(r);return function(i){return i.lift(new Wy(n,t))}}gt.delay=Vy;var Wy=function(){function r(t,e){this.delay=t,this.scheduler=e}return r.prototype.call=function(t,e){return e.subscribe(new Fy(t,this.delay,this.scheduler))},r}(),Fy=function(r){Iy(t,r);function t(e,n,i){var o=r.call(this,e)||this;return o.delay=n,o.scheduler=i,o.queue=[],o.active=!1,o.errored=!1,o}return t.dispatch=function(e){for(var n=e.source,i=n.queue,o=e.scheduler,u=e.destination;i.length>0&&i[0].time-o.now()<=0;)i.shift().notification.observe(u);if(i.length>0){var s=Math.max(0,i[0].time-o.now());this.schedule(e,s)}else this.unsubscribe(),n.active=!1},t.prototype._schedule=function(e){this.active=!0;var n=this.destination;n.add(e.schedule(t.dispatch,this.delay,{source:this,destination:this.destination,scheduler:e}))},t.prototype.scheduleNotification=function(e){if(this.errored!==!0){var n=this.scheduler,i=new Dy(n.now()+this.delay,e);this.queue.push(i),this.active===!1&&this._schedule(n)}},t.prototype._next=function(e){this.scheduleNotification(mc.Notification.createNext(e))},t.prototype._error=function(e){this.errored=!0,this.queue=[],this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.scheduleNotification(mc.Notification.createComplete()),this.unsubscribe()},t}(ky.Subscriber),Dy=function(){function r(t,e){this.time=t,this.notification=e}return r}()});var wc=c(xt=>{"use strict";var no=xt&&xt.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(xt,"__esModule",{value:!0});var Uy=_(),By=d(),Ly=F(),zy=D();function Gy(r,t){return t?function(e){return new Qy(e,t).lift(new Oc(r))}:function(e){return e.lift(new Oc(r))}}xt.delayWhen=Gy;var Oc=function(){function r(t){this.delayDurationSelector=t}return r.prototype.call=function(t,e){return e.subscribe(new Yy(t,this.delayDurationSelector))},r}(),Yy=function(r){no(t,r);function t(e,n){var i=r.call(this,e)||this;return i.delayDurationSelector=n,i.completed=!1,i.delayNotifierSubscriptions=[],i.index=0,i}return t.prototype.notifyNext=function(e,n,i,o,u){this.destination.next(e),this.removeSubscription(u),this.tryComplete()},t.prototype.notifyError=function(e,n){this._error(e)},t.prototype.notifyComplete=function(e){var n=this.removeSubscription(e);n&&this.destination.next(n),this.tryComplete()},t.prototype._next=function(e){var n=this.index++;try{var i=this.delayDurationSelector(e,n);i&&this.tryDelay(i,e)}catch(o){this.destination.error(o)}},t.prototype._complete=function(){this.completed=!0,this.tryComplete(),this.unsubscribe()},t.prototype.removeSubscription=function(e){e.unsubscribe();var n=this.delayNotifierSubscriptions.indexOf(e);return n!==-1&&this.delayNotifierSubscriptions.splice(n,1),e.outerValue},t.prototype.tryDelay=function(e,n){var i=zy.subscribeToResult(this,e,n);if(i&&!i.closed){var o=this.destination;o.add(i),this.delayNotifierSubscriptions.push(i)}},t.prototype.tryComplete=function(){this.completed&&this.delayNotifierSubscriptions.length===0&&this.destination.complete()},t}(Ly.OuterSubscriber),Qy=function(r){no(t,r);function t(e,n){var i=r.call(this)||this;return i.source=e,i.subscriptionDelay=n,i}return t.prototype._subscribe=function(e){this.subscriptionDelay.subscribe(new Hy(e,this.source))},t}(By.Observable),Hy=function(r){no(t,r);function t(e,n){var i=r.call(this)||this;return i.parent=e,i.source=n,i.sourceSubscribed=!1,i}return t.prototype._next=function(e){this.subscribeToSource()},t.prototype._error=function(e){this.unsubscribe(),this.parent.error(e)},t.prototype._complete=function(){this.unsubscribe(),this.subscribeToSource()},t.prototype.subscribeToSource=function(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))},t}(Uy.Subscriber)});var gc=c(qt=>{"use strict";var Ky=qt&&qt.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(qt,"__esModule",{value:!0});var Jy=_();function Zy(){return function(t){return t.lift(new $y)}}qt.dematerialize=Zy;var $y=function(){function r(){}return r.prototype.call=function(t,e){return e.subscribe(new Xy(t))},r}(),Xy=function(r){Ky(t,r);function t(e){return r.call(this,e)||this}return t.prototype._next=function(e){e.observe(this.destination)},t}(Jy.Subscriber)});var qc=c(Oe=>{"use strict";var em=Oe&&Oe.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(Oe,"__esModule",{value:!0});var io=y();function tm(r,t){return function(e){return e.lift(new rm(r,t))}}Oe.distinct=tm;var rm=function(){function r(t,e){this.keySelector=t,this.flushes=e}return r.prototype.call=function(t,e){return e.subscribe(new xc(t,this.keySelector,this.flushes))},r}(),xc=function(r){em(t,r);function t(e,n,i){var o=r.call(this,e)||this;return o.keySelector=n,o.values=new Set,i&&o.add(io.innerSubscribe(i,new io.SimpleInnerSubscriber(o))),o}return t.prototype.notifyNext=function(){this.values.clear()},t.prototype.notifyError=function(e){this._error(e)},t.prototype._next=function(e){this.keySelector?this._useKeySelector(e):this._finalizeNext(e,e)},t.prototype._useKeySelector=function(e){var n,i=this.destination;try{n=this.keySelector(e)}catch(o){i.error(o);return}this._finalizeNext(n,e)},t.prototype._finalizeNext=function(e,n){var i=this.values;i.has(e)||(i.add(e),this.destination.next(n))},t}(io.SimpleOuterSubscriber);Oe.DistinctSubscriber=xc});var oo=c(jt=>{"use strict";var nm=jt&&jt.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(jt,"__esModule",{value:!0});var im=_();function om(r,t){return function(e){return e.lift(new um(r,t))}}jt.distinctUntilChanged=om;var um=function(){function r(t,e){this.compare=t,this.keySelector=e}return r.prototype.call=function(t,e){return e.subscribe(new sm(t,this.compare,this.keySelector))},r}(),sm=function(r){nm(t,r);function t(e,n,i){var o=r.call(this,e)||this;return o.keySelector=i,o.hasKey=!1,typeof n=="function"&&(o.compare=n),o}return t.prototype.compare=function(e,n){return e===n},t.prototype._next=function(e){var n;try{var i=this.keySelector;n=i?i(e):e}catch(s){return this.destination.error(s)}var o=!1;if(this.hasKey)try{var u=this.compare;o=u(this.key,n)}catch(s){return this.destination.error(s)}else this.hasKey=!0;o||(this.key=n,this.destination.next(e))},t}(im.Subscriber)});var jc=c(uo=>{"use strict";Object.defineProperty(uo,"__esModule",{value:!0});var cm=oo();function am(r,t){return cm.distinctUntilChanged(function(e,n){return t?t(e[r],n[r]):e[r]===n[r]})}uo.distinctUntilKeyChanged=am});var Et=c(Pt=>{"use strict";var fm=Pt&&Pt.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(Pt,"__esModule",{value:!0});var lm=ve(),pm=_();function hm(r){return r===void 0&&(r=vm),function(t){return t.lift(new bm(r))}}Pt.throwIfEmpty=hm;var bm=function(){function r(t){this.errorFactory=t}return r.prototype.call=function(t,e){return e.subscribe(new _m(t,this.errorFactory))},r}(),_m=function(r){fm(t,r);function t(e,n){var i=r.call(this,e)||this;return i.errorFactory=n,i.hasValue=!1,i}return t.prototype._next=function(e){this.hasValue=!0,this.destination.next(e)},t.prototype._complete=function(){if(this.hasValue)return this.destination.complete();var e=void 0;try{e=this.errorFactory()}catch(n){e=n}this.destination.error(e)},t}(pm.Subscriber);function vm(){return new lm.EmptyError}});var Lr=c(At=>{"use strict";var dm=At&&At.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(At,"__esModule",{value:!0});var ym=_(),mm=_e(),Sm=P();function Om(r){return function(t){return r===0?Sm.empty():t.lift(new wm(r))}}At.take=Om;var wm=function(){function r(t){if(this.total=t,this.total<0)throw new mm.ArgumentOutOfRangeError}return r.prototype.call=function(t,e){return e.subscribe(new gm(t,this.total))},r}(),gm=function(r){dm(t,r);function t(e,n){var i=r.call(this,e)||this;return i.total=n,i.count=0,i}return t.prototype._next=function(e){var n=this.total,i=++this.count;i<=n&&(this.destination.next(e),i===n&&(this.destination.complete(),this.unsubscribe()))},t}(ym.Subscriber)});var Ec=c(so=>{"use strict";Object.defineProperty(so,"__esModule",{value:!0});var Pc=_e(),xm=K(),qm=Et(),jm=Se(),Pm=Lr();function Em(r,t){if(r<0)throw new Pc.ArgumentOutOfRangeError;var e=arguments.length>=2;return function(n){return n.pipe(xm.filter(function(i,o){return o===r}),Pm.take(1),e?jm.defaultIfEmpty(t):qm.throwIfEmpty(function(){return new Pc.ArgumentOutOfRangeError}))}}so.elementAt=Em});var Ac=c(co=>{"use strict";Object.defineProperty(co,"__esModule",{value:!0});var Am=st(),Tm=ze();function Mm(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];return function(e){return Am.concat(e,Tm.of.apply(void 0,r))}}co.endWith=Mm});var Tc=c(Tt=>{"use strict";var Cm=Tt&&Tt.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(Tt,"__esModule",{value:!0});var Im=_();function Nm(r,t){return function(e){return e.lift(new Rm(r,t,e))}}Tt.every=Nm;var Rm=function(){function r(t,e,n){this.predicate=t,this.thisArg=e,this.source=n}return r.prototype.call=function(t,e){return e.subscribe(new km(t,this.predicate,this.thisArg,this.source))},r}(),km=function(r){Cm(t,r);function t(e,n,i,o){var u=r.call(this,e)||this;return u.predicate=n,u.thisArg=i,u.source=o,u.index=0,u.thisArg=i||u,u}return t.prototype.notifyComplete=function(e){this.destination.next(e),this.destination.complete()},t.prototype._next=function(e){var n=!1;try{n=this.predicate.call(this.thisArg,e,this.index++,this.source)}catch(i){this.destination.error(i);return}n||this.notifyComplete(!1)},t.prototype._complete=function(){this.notifyComplete(!0)},t}(Im.Subscriber)});var Mc=c(Mt=>{"use strict";var Vm=Mt&&Mt.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(Mt,"__esModule",{value:!0});var ao=y();function Wm(){return function(r){return r.lift(new Fm)}}Mt.exhaust=Wm;var Fm=function(){function r(){}return r.prototype.call=function(t,e){return e.subscribe(new Dm(t))},r}(),Dm=function(r){Vm(t,r);function t(e){var n=r.call(this,e)||this;return n.hasCompleted=!1,n.hasSubscription=!1,n}return t.prototype._next=function(e){this.hasSubscription||(this.hasSubscription=!0,this.add(ao.innerSubscribe(e,new ao.SimpleInnerSubscriber(this))))},t.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()},t.prototype.notifyComplete=function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},t}(ao.SimpleOuterSubscriber)});var Ic=c(Ct=>{"use strict";var Um=Ct&&Ct.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(Ct,"__esModule",{value:!0});var Bm=j(),Lm=A(),fo=y();function Cc(r,t){return t?function(e){return e.pipe(Cc(function(n,i){return Lm.from(r(n,i)).pipe(Bm.map(function(o,u){return t(n,o,i,u)}))}))}:function(e){return e.lift(new zm(r))}}Ct.exhaustMap=Cc;var zm=function(){function r(t){this.project=t}return r.prototype.call=function(t,e){return e.subscribe(new Gm(t,this.project))},r}(),Gm=function(r){Um(t,r);function t(e,n){var i=r.call(this,e)||this;return i.project=n,i.hasSubscription=!1,i.hasCompleted=!1,i.index=0,i}return t.prototype._next=function(e){this.hasSubscription||this.tryNext(e)},t.prototype.tryNext=function(e){var n,i=this.index++;try{n=this.project(e,i)}catch(o){this.destination.error(o);return}this.hasSubscription=!0,this._innerSub(n)},t.prototype._innerSub=function(e){var n=new fo.SimpleInnerSubscriber(this),i=this.destination;i.add(n);var o=fo.innerSubscribe(e,n);o!==n&&i.add(o)},t.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()},t.prototype.notifyNext=function(e){this.destination.next(e)},t.prototype.notifyError=function(e){this.destination.error(e)},t.prototype.notifyComplete=function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},t}(fo.SimpleOuterSubscriber)});var kc=c($=>{"use strict";var Ym=$&&$.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty($,"__esModule",{value:!0});var lo=y();function Qm(r,t,e){return t===void 0&&(t=Number.POSITIVE_INFINITY),t=(t||0)<1?Number.POSITIVE_INFINITY:t,function(n){return n.lift(new Nc(r,t,e))}}$.expand=Qm;var Nc=function(){function r(t,e,n){this.project=t,this.concurrent=e,this.scheduler=n}return r.prototype.call=function(t,e){return e.subscribe(new Rc(t,this.project,this.concurrent,this.scheduler))},r}();$.ExpandOperator=Nc;var Rc=function(r){Ym(t,r);function t(e,n,i,o){var u=r.call(this,e)||this;return u.project=n,u.concurrent=i,u.scheduler=o,u.index=0,u.active=0,u.hasCompleted=!1,i<Number.POSITIVE_INFINITY&&(u.buffer=[]),u}return t.dispatch=function(e){var n=e.subscriber,i=e.result,o=e.value,u=e.index;n.subscribeToProjection(i,o,u)},t.prototype._next=function(e){var n=this.destination;if(n.closed){this._complete();return}var i=this.index++;if(this.active<this.concurrent){n.next(e);try{var o=this.project,u=o(e,i);if(!this.scheduler)this.subscribeToProjection(u,e,i);else{var s={subscriber:this,result:u,value:e,index:i},f=this.destination;f.add(this.scheduler.schedule(t.dispatch,0,s))}}catch(a){n.error(a)}}else this.buffer.push(e)},t.prototype.subscribeToProjection=function(e,n,i){this.active++;var o=this.destination;o.add(lo.innerSubscribe(e,new lo.SimpleInnerSubscriber(this)))},t.prototype._complete=function(){this.hasCompleted=!0,this.hasCompleted&&this.active===0&&this.destination.complete(),this.unsubscribe()},t.prototype.notifyNext=function(e){this._next(e)},t.prototype.notifyComplete=function(){var e=this.buffer;this.active--,e&&e.length>0&&this._next(e.shift()),this.hasCompleted&&this.active===0&&this.destination.complete()},t}(lo.SimpleOuterSubscriber);$.ExpandSubscriber=Rc});var Vc=c(It=>{"use strict";var Hm=It&&It.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(It,"__esModule",{value:!0});var Km=_(),Jm=O();function Zm(r){return function(t){return t.lift(new $m(r))}}It.finalize=Zm;var $m=function(){function r(t){this.callback=t}return r.prototype.call=function(t,e){return e.subscribe(new Xm(t,this.callback))},r}(),Xm=function(r){Hm(t,r);function t(e,n){var i=r.call(this,e)||this;return i.add(new Jm.Subscription(n)),i}return t}(Km.Subscriber)});var po=c(X=>{"use strict";var eS=X&&X.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(X,"__esModule",{value:!0});var tS=_();function rS(r,t){if(typeof r!="function")throw new TypeError("predicate is not a function");return function(e){return e.lift(new Wc(r,e,!1,t))}}X.find=rS;var Wc=function(){function r(t,e,n,i){this.predicate=t,this.source=e,this.yieldIndex=n,this.thisArg=i}return r.prototype.call=function(t,e){return e.subscribe(new Fc(t,this.predicate,this.source,this.yieldIndex,this.thisArg))},r}();X.FindValueOperator=Wc;var Fc=function(r){eS(t,r);function t(e,n,i,o,u){var s=r.call(this,e)||this;return s.predicate=n,s.source=i,s.yieldIndex=o,s.thisArg=u,s.index=0,s}return t.prototype.notifyComplete=function(e){var n=this.destination;n.next(e),n.complete(),this.unsubscribe()},t.prototype._next=function(e){var n=this,i=n.predicate,o=n.thisArg,u=this.index++;try{var s=i.call(o||this,e,u,this.source);s&&this.notifyComplete(this.yieldIndex?u:e)}catch(f){this.destination.error(f)}},t.prototype._complete=function(){this.notifyComplete(this.yieldIndex?-1:void 0)},t}(tS.Subscriber);X.FindValueSubscriber=Fc});var Dc=c(ho=>{"use strict";Object.defineProperty(ho,"__esModule",{value:!0});var nS=po();function iS(r,t){return function(e){return e.lift(new nS.FindValueOperator(r,e,!0,t))}}ho.findIndex=iS});var Uc=c(bo=>{"use strict";Object.defineProperty(bo,"__esModule",{value:!0});var oS=ve(),uS=K(),sS=Lr(),cS=Se(),aS=Et(),fS=V();function lS(r,t){var e=arguments.length>=2;return function(n){return n.pipe(r?uS.filter(function(i,o){return r(i,o,n)}):fS.identity,sS.take(1),e?cS.defaultIfEmpty(t):aS.throwIfEmpty(function(){return new oS.EmptyError}))}}bo.first=lS});var Bc=c(Nt=>{"use strict";var pS=Nt&&Nt.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(Nt,"__esModule",{value:!0});var hS=_();function bS(){return function(t){return t.lift(new _S)}}Nt.ignoreElements=bS;var _S=function(){function r(){}return r.prototype.call=function(t,e){return e.subscribe(new vS(t))},r}(),vS=function(r){pS(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype._next=function(e){},t}(hS.Subscriber)});var Lc=c(Rt=>{"use strict";var dS=Rt&&Rt.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(Rt,"__esModule",{value:!0});var yS=_();function mS(){return function(r){return r.lift(new SS)}}Rt.isEmpty=mS;var SS=function(){function r(){}return r.prototype.call=function(t,e){return e.subscribe(new OS(t))},r}(),OS=function(r){dS(t,r);function t(e){return r.call(this,e)||this}return t.prototype.notifyComplete=function(e){var n=this.destination;n.next(e),n.complete()},t.prototype._next=function(e){this.notifyComplete(!1)},t.prototype._complete=function(){this.notifyComplete(!0)},t}(yS.Subscriber)});var zr=c(kt=>{"use strict";var wS=kt&&kt.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(kt,"__esModule",{value:!0});var gS=_(),xS=_e(),qS=P();function jS(r){return function(e){return r===0?qS.empty():e.lift(new PS(r))}}kt.takeLast=jS;var PS=function(){function r(t){if(this.total=t,this.total<0)throw new xS.ArgumentOutOfRangeError}return r.prototype.call=function(t,e){return e.subscribe(new ES(t,this.total))},r}(),ES=function(r){wS(t,r);function t(e,n){var i=r.call(this,e)||this;return i.total=n,i.ring=new Array,i.count=0,i}return t.prototype._next=function(e){var n=this.ring,i=this.total,o=this.count++;if(n.length<i)n.push(e);else{var u=o%i;n[u]=e}},t.prototype._complete=function(){var e=this.destination,n=this.count;if(n>0)for(var i=this.count>=this.total?this.total:this.count,o=this.ring,u=0;u<i;u++){var s=n++%i;e.next(o[s])}e.complete()},t}(gS.Subscriber)});var zc=c(_o=>{"use strict";Object.defineProperty(_o,"__esModule",{value:!0});var AS=ve(),TS=K(),MS=zr(),CS=Et(),IS=Se(),NS=V();function RS(r,t){var e=arguments.length>=2;return function(n){return n.pipe(r?TS.filter(function(i,o){return r(i,o,n)}):NS.identity,MS.takeLast(1),e?IS.defaultIfEmpty(t):CS.throwIfEmpty(function(){return new AS.EmptyError}))}}_o.last=RS});var Gc=c(Vt=>{"use strict";var kS=Vt&&Vt.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(Vt,"__esModule",{value:!0});var VS=_();function WS(r){return function(t){return t.lift(new FS(r))}}Vt.mapTo=WS;var FS=function(){function r(t){this.value=t}return r.prototype.call=function(t,e){return e.subscribe(new DS(t,this.value))},r}(),DS=function(r){kS(t,r);function t(e,n){var i=r.call(this,e)||this;return i.value=n,i}return t.prototype._next=function(e){this.destination.next(this.value)},t}(VS.Subscriber)});var Yc=c(Wt=>{"use strict";var US=Wt&&Wt.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(Wt,"__esModule",{value:!0});var BS=_(),vo=Ye();function LS(){return function(t){return t.lift(new zS)}}Wt.materialize=LS;var zS=function(){function r(){}return r.prototype.call=function(t,e){return e.subscribe(new GS(t))},r}(),GS=function(r){US(t,r);function t(e){return r.call(this,e)||this}return t.prototype._next=function(e){this.destination.next(vo.Notification.createNext(e))},t.prototype._error=function(e){var n=this.destination;n.next(vo.Notification.createError(e)),n.complete()},t.prototype._complete=function(){var e=this.destination;e.next(vo.Notification.createComplete()),e.complete()},t}(BS.Subscriber)});var Gr=c(Ft=>{"use strict";var YS=Ft&&Ft.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(Ft,"__esModule",{value:!0});var QS=_();function HS(r,t){var e=!1;return arguments.length>=2&&(e=!0),function(i){return i.lift(new KS(r,t,e))}}Ft.scan=HS;var KS=function(){function r(t,e,n){n===void 0&&(n=!1),this.accumulator=t,this.seed=e,this.hasSeed=n}return r.prototype.call=function(t,e){return e.subscribe(new JS(t,this.accumulator,this.seed,this.hasSeed))},r}(),JS=function(r){YS(t,r);function t(e,n,i,o){var u=r.call(this,e)||this;return u.accumulator=n,u._seed=i,u.hasSeed=o,u.index=0,u}return Object.defineProperty(t.prototype,"seed",{get:function(){return this._seed},set:function(e){this.hasSeed=!0,this._seed=e},enumerable:!0,configurable:!0}),t.prototype._next=function(e){if(!this.hasSeed)this.seed=e,this.destination.next(e);else return this._tryNext(e)},t.prototype._tryNext=function(e){var n=this.index++,i;try{i=this.accumulator(this.seed,e,n)}catch(o){this.destination.error(o)}this.seed=i,this.destination.next(i)},t}(QS.Subscriber)});var Dt=c(yo=>{"use strict";Object.defineProperty(yo,"__esModule",{value:!0});var Qc=Gr(),Hc=zr(),ZS=Se(),Kc=gr();function $S(r,t){return arguments.length>=2?function(n){return Kc.pipe(Qc.scan(r,t),Hc.takeLast(1),ZS.defaultIfEmpty(t))(n)}:function(n){return Kc.pipe(Qc.scan(function(i,o,u){return r(i,o,u+1)}),Hc.takeLast(1))(n)}}yo.reduce=$S});var Jc=c(mo=>{"use strict";Object.defineProperty(mo,"__esModule",{value:!0});var XS=Dt();function eO(r){var t=typeof r=="function"?function(e,n){return r(e,n)>0?e:n}:function(e,n){return e>n?e:n};return XS.reduce(t)}mo.max=eO});var Zc=c(So=>{"use strict";Object.defineProperty(So,"__esModule",{value:!0});var tO=Ti();function rO(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];return function(e){return e.lift.call(tO.merge.apply(void 0,[e].concat(r)))}}So.merge=rO});var Xc=c(Oo=>{"use strict";Object.defineProperty(Oo,"__esModule",{value:!0});var $c=ut();function nO(r,t,e){return e===void 0&&(e=Number.POSITIVE_INFINITY),typeof t=="function"?$c.mergeMap(function(){return r},t,e):(typeof t=="number"&&(e=t),$c.mergeMap(function(){return r},e))}Oo.mergeMapTo=nO});var ra=c(ee=>{"use strict";var iO=ee&&ee.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(ee,"__esModule",{value:!0});var wo=y();function oO(r,t,e){return e===void 0&&(e=Number.POSITIVE_INFINITY),function(n){return n.lift(new ea(r,t,e))}}ee.mergeScan=oO;var ea=function(){function r(t,e,n){this.accumulator=t,this.seed=e,this.concurrent=n}return r.prototype.call=function(t,e){return e.subscribe(new ta(t,this.accumulator,this.seed,this.concurrent))},r}();ee.MergeScanOperator=ea;var ta=function(r){iO(t,r);function t(e,n,i,o){var u=r.call(this,e)||this;return u.accumulator=n,u.acc=i,u.concurrent=o,u.hasValue=!1,u.hasCompleted=!1,u.buffer=[],u.active=0,u.index=0,u}return t.prototype._next=function(e){if(this.active<this.concurrent){var n=this.index++,i=this.destination,o=void 0;try{var u=this.accumulator;o=u(this.acc,e,n)}catch(s){return i.error(s)}this.active++,this._innerSub(o)}else this.buffer.push(e)},t.prototype._innerSub=function(e){var n=new wo.SimpleInnerSubscriber(this),i=this.destination;i.add(n);var o=wo.innerSubscribe(e,n);o!==n&&i.add(o)},t.prototype._complete=function(){this.hasCompleted=!0,this.active===0&&this.buffer.length===0&&(this.hasValue===!1&&this.destination.next(this.acc),this.destination.complete()),this.unsubscribe()},t.prototype.notifyNext=function(e){var n=this.destination;this.acc=e,this.hasValue=!0,n.next(e)},t.prototype.notifyComplete=function(){var e=this.buffer;this.active--,e.length>0?this._next(e.shift()):this.active===0&&this.hasCompleted&&(this.hasValue===!1&&this.destination.next(this.acc),this.destination.complete())},t}(wo.SimpleOuterSubscriber);ee.MergeScanSubscriber=ta});var na=c(go=>{"use strict";Object.defineProperty(go,"__esModule",{value:!0});var uO=Dt();function sO(r){var t=typeof r=="function"?function(e,n){return r(e,n)<0?e:n}:function(e,n){return e<n?e:n};return uO.reduce(t)}go.min=sO});var te=c(Yr=>{"use strict";Object.defineProperty(Yr,"__esModule",{value:!0});var cO=Pn();function aO(r,t){return function(n){var i;if(typeof r=="function"?i=r:i=function(){return r},typeof t=="function")return n.lift(new ia(i,t));var o=Object.create(n,cO.connectableObservableDescriptor);return o.source=n,o.subjectFactory=i,o}}Yr.multicast=aO;var ia=function(){function r(t,e){this.subjectFactory=t,this.selector=e}return r.prototype.call=function(t,e){var n=this.selector,i=this.subjectFactory(),o=n(i).subscribe(t);return o.add(e.subscribe(i)),o},r}();Yr.MulticastOperator=ia});var sa=c(we=>{"use strict";var fO=we&&we.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(we,"__esModule",{value:!0});var lO=A(),oa=g(),xo=y();function pO(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];return r.length===1&&oa.isArray(r[0])&&(r=r[0]),function(e){return e.lift(new ua(r))}}we.onErrorResumeNext=pO;function hO(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];var e=void 0;return r.length===1&&oa.isArray(r[0])&&(r=r[0]),e=r.shift(),lO.from(e).lift(new ua(r))}we.onErrorResumeNextStatic=hO;var ua=function(){function r(t){this.nextSources=t}return r.prototype.call=function(t,e){return e.subscribe(new bO(t,this.nextSources))},r}(),bO=function(r){fO(t,r);function t(e,n){var i=r.call(this,e)||this;return i.destination=e,i.nextSources=n,i}return t.prototype.notifyError=function(){this.subscribeToNextSource()},t.prototype.notifyComplete=function(){this.subscribeToNextSource()},t.prototype._error=function(e){this.subscribeToNextSource(),this.unsubscribe()},t.prototype._complete=function(){this.subscribeToNextSource(),this.unsubscribe()},t.prototype.subscribeToNextSource=function(){var e=this.nextSources.shift();if(e){var n=new xo.SimpleInnerSubscriber(this),i=this.destination;i.add(n);var o=xo.innerSubscribe(e,n);o!==n&&i.add(o)}else this.destination.complete()},t}(xo.SimpleOuterSubscriber)});var ca=c(Ut=>{"use strict";var _O=Ut&&Ut.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(Ut,"__esModule",{value:!0});var vO=_();function dO(){return function(r){return r.lift(new yO)}}Ut.pairwise=dO;var yO=function(){function r(){}return r.prototype.call=function(t,e){return e.subscribe(new mO(t))},r}(),mO=function(r){_O(t,r);function t(e){var n=r.call(this,e)||this;return n.hasPrev=!1,n}return t.prototype._next=function(e){var n;this.hasPrev?n=[this.prev,e]:this.hasPrev=!0,this.prev=e,n&&this.destination.next(n)},t}(vO.Subscriber)});var fa=c(qo=>{"use strict";Object.defineProperty(qo,"__esModule",{value:!0});var SO=Ri(),aa=K();function OO(r,t){return function(e){return[aa.filter(r,t)(e),aa.filter(SO.not(r,t))(e)]}}qo.partition=OO});var la=c(jo=>{"use strict";Object.defineProperty(jo,"__esModule",{value:!0});var wO=j();function gO(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];var e=r.length;if(e===0)throw new Error("list of properties cannot be empty.");return function(n){return wO.map(xO(r,e))(n)}}jo.pluck=gO;function xO(r,t){var e=function(n){for(var i=n,o=0;o<t;o++){var u=i?.[r[o]];if(u!==void 0)i=u;else return}return i};return e}});var ba=c(Po=>{"use strict";Object.defineProperty(Po,"__esModule",{value:!0});var pa=w(),ha=te();function qO(r){return r?ha.multicast(function(){return new pa.Subject},r):ha.multicast(new pa.Subject)}Po.publish=qO});var _a=c(Eo=>{"use strict";Object.defineProperty(Eo,"__esModule",{value:!0});var jO=Tn(),PO=te();function EO(r){return function(t){return PO.multicast(new jO.BehaviorSubject(r))(t)}}Eo.publishBehavior=EO});var va=c(Ao=>{"use strict";Object.defineProperty(Ao,"__esModule",{value:!0});var AO=Ke(),TO=te();function MO(){return function(r){return TO.multicast(new AO.AsyncSubject)(r)}}Ao.publishLast=MO});var da=c(To=>{"use strict";Object.defineProperty(To,"__esModule",{value:!0});var CO=Ar(),IO=te();function NO(r,t,e,n){e&&typeof e!="function"&&(n=e);var i=typeof e=="function"?e:void 0,o=new CO.ReplaySubject(r,t,n);return function(u){return IO.multicast(function(){return o},i)(u)}}To.publishReplay=NO});var ya=c(Mo=>{"use strict";Object.defineProperty(Mo,"__esModule",{value:!0});var RO=g(),kO=Vi();function VO(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];return function(n){return r.length===1&&RO.isArray(r[0])&&(r=r[0]),n.lift.call(kO.race.apply(void 0,[n].concat(r)))}}Mo.race=VO});var Sa=c(Bt=>{"use strict";var WO=Bt&&Bt.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(Bt,"__esModule",{value:!0});var FO=_(),DO=P();function UO(r){return r===void 0&&(r=-1),function(t){return r===0?DO.empty():r<0?t.lift(new ma(-1,t)):t.lift(new ma(r-1,t))}}Bt.repeat=UO;var ma=function(){function r(t,e){this.count=t,this.source=e}return r.prototype.call=function(t,e){return e.subscribe(new BO(t,this.count,this.source))},r}(),BO=function(r){WO(t,r);function t(e,n,i){var o=r.call(this,e)||this;return o.count=n,o.source=i,o}return t.prototype.complete=function(){if(!this.isStopped){var e=this,n=e.source,i=e.count;if(i===0)return r.prototype.complete.call(this);i>-1&&(this.count=i-1),n.subscribe(this._unsubscribeAndRecycle())}},t}(FO.Subscriber)});var Oa=c(Lt=>{"use strict";var LO=Lt&&Lt.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(Lt,"__esModule",{value:!0});var zO=w(),Co=y();function GO(r){return function(t){return t.lift(new YO(r))}}Lt.repeatWhen=GO;var YO=function(){function r(t){this.notifier=t}return r.prototype.call=function(t,e){return e.subscribe(new QO(t,this.notifier,e))},r}(),QO=function(r){LO(t,r);function t(e,n,i){var o=r.call(this,e)||this;return o.notifier=n,o.source=i,o.sourceIsBeingSubscribedTo=!0,o}return t.prototype.notifyNext=function(){this.sourceIsBeingSubscribedTo=!0,this.source.subscribe(this)},t.prototype.notifyComplete=function(){if(this.sourceIsBeingSubscribedTo===!1)return r.prototype.complete.call(this)},t.prototype.complete=function(){if(this.sourceIsBeingSubscribedTo=!1,!this.isStopped){if(this.retries||this.subscribeToRetries(),!this.retriesSubscription||this.retriesSubscription.closed)return r.prototype.complete.call(this);this._unsubscribeAndRecycle(),this.notifications.next(void 0)}},t.prototype._unsubscribe=function(){var e=this,n=e.notifications,i=e.retriesSubscription;n&&(n.unsubscribe(),this.notifications=void 0),i&&(i.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},t.prototype._unsubscribeAndRecycle=function(){var e=this._unsubscribe;return this._unsubscribe=null,r.prototype._unsubscribeAndRecycle.call(this),this._unsubscribe=e,this},t.prototype.subscribeToRetries=function(){this.notifications=new zO.Subject;var e;try{var n=this.notifier;e=n(this.notifications)}catch{return r.prototype.complete.call(this)}this.retries=e,this.retriesSubscription=Co.innerSubscribe(e,new Co.SimpleInnerSubscriber(this))},t}(Co.SimpleOuterSubscriber)});var wa=c(zt=>{"use strict";var HO=zt&&zt.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(zt,"__esModule",{value:!0});var KO=_();function JO(r){return r===void 0&&(r=-1),function(t){return t.lift(new ZO(r,t))}}zt.retry=JO;var ZO=function(){function r(t,e){this.count=t,this.source=e}return r.prototype.call=function(t,e){return e.subscribe(new $O(t,this.count,this.source))},r}(),$O=function(r){HO(t,r);function t(e,n,i){var o=r.call(this,e)||this;return o.count=n,o.source=i,o}return t.prototype.error=function(e){if(!this.isStopped){var n=this,i=n.source,o=n.count;if(o===0)return r.prototype.error.call(this,e);o>-1&&(this.count=o-1),i.subscribe(this._unsubscribeAndRecycle())}},t}(KO.Subscriber)});var ga=c(Gt=>{"use strict";var XO=Gt&&Gt.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(Gt,"__esModule",{value:!0});var ew=w(),Io=y();function tw(r){return function(t){return t.lift(new rw(r,t))}}Gt.retryWhen=tw;var rw=function(){function r(t,e){this.notifier=t,this.source=e}return r.prototype.call=function(t,e){return e.subscribe(new nw(t,this.notifier,this.source))},r}(),nw=function(r){XO(t,r);function t(e,n,i){var o=r.call(this,e)||this;return o.notifier=n,o.source=i,o}return t.prototype.error=function(e){if(!this.isStopped){var n=this.errors,i=this.retries,o=this.retriesSubscription;if(i)this.errors=void 0,this.retriesSubscription=void 0;else{n=new ew.Subject;try{var u=this.notifier;i=u(n)}catch(s){return r.prototype.error.call(this,s)}o=Io.innerSubscribe(i,new Io.SimpleInnerSubscriber(this))}this._unsubscribeAndRecycle(),this.errors=n,this.retries=i,this.retriesSubscription=o,n.next(e)}},t.prototype._unsubscribe=function(){var e=this,n=e.errors,i=e.retriesSubscription;n&&(n.unsubscribe(),this.errors=void 0),i&&(i.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},t.prototype.notifyNext=function(){var e=this._unsubscribe;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=e,this.source.subscribe(this)},t}(Io.SimpleOuterSubscriber)});var xa=c(Yt=>{"use strict";var iw=Yt&&Yt.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(Yt,"__esModule",{value:!0});var No=y();function ow(r){return function(t){return t.lift(new uw(r))}}Yt.sample=ow;var uw=function(){function r(t){this.notifier=t}return r.prototype.call=function(t,e){var n=new sw(t),i=e.subscribe(n);return i.add(No.innerSubscribe(this.notifier,new No.SimpleInnerSubscriber(n))),i},r}(),sw=function(r){iw(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.hasValue=!1,e}return t.prototype._next=function(e){this.value=e,this.hasValue=!0},t.prototype.notifyNext=function(){this.emitValue()},t.prototype.notifyComplete=function(){this.emitValue()},t.prototype.emitValue=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))},t}(No.SimpleOuterSubscriber)});var qa=c(Qt=>{"use strict";var cw=Qt&&Qt.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(Qt,"__esModule",{value:!0});var aw=_(),fw=x();function lw(r,t){return t===void 0&&(t=fw.async),function(e){return e.lift(new pw(r,t))}}Qt.sampleTime=lw;var pw=function(){function r(t,e){this.period=t,this.scheduler=e}return r.prototype.call=function(t,e){return e.subscribe(new hw(t,this.period,this.scheduler))},r}(),hw=function(r){cw(t,r);function t(e,n,i){var o=r.call(this,e)||this;return o.period=n,o.scheduler=i,o.hasValue=!1,o.add(i.schedule(bw,n,{subscriber:o,period:n})),o}return t.prototype._next=function(e){this.lastValue=e,this.hasValue=!0},t.prototype.notifyNext=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))},t}(aw.Subscriber);function bw(r){var t=r.subscriber,e=r.period;t.notifyNext(),this.schedule(r,e)}});var Ta=c(re=>{"use strict";var ja=re&&re.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(re,"__esModule",{value:!0});var Pa=_();function _w(r,t){return function(e){return e.lift(new Ea(r,t))}}re.sequenceEqual=_w;var Ea=function(){function r(t,e){this.compareTo=t,this.comparator=e}return r.prototype.call=function(t,e){return e.subscribe(new Aa(t,this.compareTo,this.comparator))},r}();re.SequenceEqualOperator=Ea;var Aa=function(r){ja(t,r);function t(e,n,i){var o=r.call(this,e)||this;return o.compareTo=n,o.comparator=i,o._a=[],o._b=[],o._oneComplete=!1,o.destination.add(n.subscribe(new vw(e,o))),o}return t.prototype._next=function(e){this._oneComplete&&this._b.length===0?this.emit(!1):(this._a.push(e),this.checkValues())},t.prototype._complete=function(){this._oneComplete?this.emit(this._a.length===0&&this._b.length===0):this._oneComplete=!0,this.unsubscribe()},t.prototype.checkValues=function(){for(var e=this,n=e._a,i=e._b,o=e.comparator;n.length>0&&i.length>0;){var u=n.shift(),s=i.shift(),f=!1;try{f=o?o(u,s):u===s}catch(a){this.destination.error(a)}f||this.emit(!1)}},t.prototype.emit=function(e){var n=this.destination;n.next(e),n.complete()},t.prototype.nextB=function(e){this._oneComplete&&this._a.length===0?this.emit(!1):(this._b.push(e),this.checkValues())},t.prototype.completeB=function(){this._oneComplete?this.emit(this._a.length===0&&this._b.length===0):this._oneComplete=!0},t}(Pa.Subscriber);re.SequenceEqualSubscriber=Aa;var vw=function(r){ja(t,r);function t(e,n){var i=r.call(this,e)||this;return i.parent=n,i}return t.prototype._next=function(e){this.parent.nextB(e)},t.prototype._error=function(e){this.parent.error(e),this.unsubscribe()},t.prototype._complete=function(){this.parent.completeB(),this.unsubscribe()},t}(Pa.Subscriber)});var Ma=c(Ro=>{"use strict";Object.defineProperty(Ro,"__esModule",{value:!0});var dw=te(),yw=qr(),mw=w();function Sw(){return new mw.Subject}function Ow(){return function(r){return yw.refCount()(dw.multicast(Sw)(r))}}Ro.share=Ow});var Ca=c(ko=>{"use strict";Object.defineProperty(ko,"__esModule",{value:!0});var ww=Ar();function gw(r,t,e){var n;return r&&typeof r=="object"?n=r:n={bufferSize:r,windowTime:t,refCount:!1,scheduler:e},function(i){return i.lift(xw(n))}}ko.shareReplay=gw;function xw(r){var t=r.bufferSize,e=t===void 0?Number.POSITIVE_INFINITY:t,n=r.windowTime,i=n===void 0?Number.POSITIVE_INFINITY:n,o=r.refCount,u=r.scheduler,s,f=0,a,p=!1,b=!1;return function(q){f++;var I;!s||p?(p=!1,s=new ww.ReplaySubject(e,i,u),I=s.subscribe(this),a=q.subscribe({next:function(oe){s.next(oe)},error:function(oe){p=!0,s.error(oe)},complete:function(){b=!0,a=void 0,s.complete()}}),b&&(a=void 0)):I=s.subscribe(this),this.add(function(){f--,I.unsubscribe(),I=void 0,a&&!b&&o&&f===0&&(a.unsubscribe(),a=void 0,s=void 0)})}}});var Ia=c(Ht=>{"use strict";var qw=Ht&&Ht.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(Ht,"__esModule",{value:!0});var jw=_(),Pw=ve();function Ew(r){return function(t){return t.lift(new Aw(r,t))}}Ht.single=Ew;var Aw=function(){function r(t,e){this.predicate=t,this.source=e}return r.prototype.call=function(t,e){return e.subscribe(new Tw(t,this.predicate,this.source))},r}(),Tw=function(r){qw(t,r);function t(e,n,i){var o=r.call(this,e)||this;return o.predicate=n,o.source=i,o.seenValue=!1,o.index=0,o}return t.prototype.applySingleValue=function(e){this.seenValue?this.destination.error("Sequence contains more than one element"):(this.seenValue=!0,this.singleValue=e)},t.prototype._next=function(e){var n=this.index++;this.predicate?this.tryNext(e,n):this.applySingleValue(e)},t.prototype.tryNext=function(e,n){try{this.predicate(e,n,this.source)&&this.applySingleValue(e)}catch(i){this.destination.error(i)}},t.prototype._complete=function(){var e=this.destination;this.index>0?(e.next(this.seenValue?this.singleValue:void 0),e.complete()):e.error(new Pw.EmptyError)},t}(jw.Subscriber)});var Na=c(Kt=>{"use strict";var Mw=Kt&&Kt.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(Kt,"__esModule",{value:!0});var Cw=_();function Iw(r){return function(t){return t.lift(new Nw(r))}}Kt.skip=Iw;var Nw=function(){function r(t){this.total=t}return r.prototype.call=function(t,e){return e.subscribe(new Rw(t,this.total))},r}(),Rw=function(r){Mw(t,r);function t(e,n){var i=r.call(this,e)||this;return i.total=n,i.count=0,i}return t.prototype._next=function(e){++this.count>this.total&&this.destination.next(e)},t}(Cw.Subscriber)});var ka=c(Jt=>{"use strict";var kw=Jt&&Jt.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(Jt,"__esModule",{value:!0});var Ra=_(),Vw=_e();function Ww(r){return function(t){return t.lift(new Fw(r))}}Jt.skipLast=Ww;var Fw=function(){function r(t){if(this._skipCount=t,this._skipCount<0)throw new Vw.ArgumentOutOfRangeError}return r.prototype.call=function(t,e){return this._skipCount===0?e.subscribe(new Ra.Subscriber(t)):e.subscribe(new Dw(t,this._skipCount))},r}(),Dw=function(r){kw(t,r);function t(e,n){var i=r.call(this,e)||this;return i._skipCount=n,i._count=0,i._ring=new Array(n),i}return t.prototype._next=function(e){var n=this._skipCount,i=this._count++;if(i<n)this._ring[i]=e;else{var o=i%n,u=this._ring,s=u[o];u[o]=e,this.destination.next(s)}},t}(Ra.Subscriber)});var Va=c(Zt=>{"use strict";var Uw=Zt&&Zt.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(Zt,"__esModule",{value:!0});var Vo=y();function Bw(r){return function(t){return t.lift(new Lw(r))}}Zt.skipUntil=Bw;var Lw=function(){function r(t){this.notifier=t}return r.prototype.call=function(t,e){return e.subscribe(new zw(t,this.notifier))},r}(),zw=function(r){Uw(t,r);function t(e,n){var i=r.call(this,e)||this;i.hasValue=!1;var o=new Vo.SimpleInnerSubscriber(i);i.add(o),i.innerSubscription=o;var u=Vo.innerSubscribe(n,o);return u!==o&&(i.add(u),i.innerSubscription=u),i}return t.prototype._next=function(e){this.hasValue&&r.prototype._next.call(this,e)},t.prototype.notifyNext=function(){this.hasValue=!0,this.innerSubscription&&this.innerSubscription.unsubscribe()},t.prototype.notifyComplete=function(){},t}(Vo.SimpleOuterSubscriber)});var Wa=c($t=>{"use strict";var Gw=$t&&$t.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty($t,"__esModule",{value:!0});var Yw=_();function Qw(r){return function(t){return t.lift(new Hw(r))}}$t.skipWhile=Qw;var Hw=function(){function r(t){this.predicate=t}return r.prototype.call=function(t,e){return e.subscribe(new Kw(t,this.predicate))},r}(),Kw=function(r){Gw(t,r);function t(e,n){var i=r.call(this,e)||this;return i.predicate=n,i.skipping=!0,i.index=0,i}return t.prototype._next=function(e){var n=this.destination;this.skipping&&this.tryCallPredicate(e),this.skipping||n.next(e)},t.prototype.tryCallPredicate=function(e){try{var n=this.predicate(e,this.index++);this.skipping=Boolean(n)}catch(i){this.destination.error(i)}},t}(Yw.Subscriber)});var Da=c(Wo=>{"use strict";Object.defineProperty(Wo,"__esModule",{value:!0});var Fa=st(),Jw=E();function Zw(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];var e=r[r.length-1];return Jw.isScheduler(e)?(r.pop(),function(n){return Fa.concat(r,n,e)}):function(n){return Fa.concat(r,n)}}Wo.startWith=Zw});var Ua=c(Xt=>{"use strict";var $w=Xt&&Xt.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(Xt,"__esModule",{value:!0});var Xw=d(),Fo=Ln(),e1=ct(),t1=function(r){$w(t,r);function t(e,n,i){n===void 0&&(n=0),i===void 0&&(i=Fo.asap);var o=r.call(this)||this;return o.source=e,o.delayTime=n,o.scheduler=i,(!e1.isNumeric(n)||n<0)&&(o.delayTime=0),(!i||typeof i.schedule!="function")&&(o.scheduler=Fo.asap),o}return t.create=function(e,n,i){return n===void 0&&(n=0),i===void 0&&(i=Fo.asap),new t(e,n,i)},t.dispatch=function(e){var n=e.source,i=e.subscriber;return this.add(n.subscribe(i))},t.prototype._subscribe=function(e){var n=this.delayTime,i=this.source,o=this.scheduler;return o.schedule(t.dispatch,n,{source:i,subscriber:e})},t}(Xw.Observable);Xt.SubscribeOnObservable=t1});var Ba=c(Do=>{"use strict";Object.defineProperty(Do,"__esModule",{value:!0});var r1=Ua();function n1(r,t){return t===void 0&&(t=0),function(n){return n.lift(new i1(r,t))}}Do.subscribeOn=n1;var i1=function(){function r(t,e){this.scheduler=t,this.delay=e}return r.prototype.call=function(t,e){return new r1.SubscribeOnObservable(e,this.delay,this.scheduler).subscribe(t)},r}()});var Qr=c(er=>{"use strict";var o1=er&&er.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(er,"__esModule",{value:!0});var u1=j(),s1=A(),Uo=y();function La(r,t){return typeof t=="function"?function(e){return e.pipe(La(function(n,i){return s1.from(r(n,i)).pipe(u1.map(function(o,u){return t(n,o,i,u)}))}))}:function(e){return e.lift(new c1(r))}}er.switchMap=La;var c1=function(){function r(t){this.project=t}return r.prototype.call=function(t,e){return e.subscribe(new a1(t,this.project))},r}(),a1=function(r){o1(t,r);function t(e,n){var i=r.call(this,e)||this;return i.project=n,i.index=0,i}return t.prototype._next=function(e){var n,i=this.index++;try{n=this.project(e,i)}catch(o){this.destination.error(o);return}this._innerSub(n)},t.prototype._innerSub=function(e){var n=this.innerSubscription;n&&n.unsubscribe();var i=new Uo.SimpleInnerSubscriber(this),o=this.destination;o.add(i),this.innerSubscription=Uo.innerSubscribe(e,i),this.innerSubscription!==i&&o.add(this.innerSubscription)},t.prototype._complete=function(){var e=this.innerSubscription;(!e||e.closed)&&r.prototype._complete.call(this),this.unsubscribe()},t.prototype._unsubscribe=function(){this.innerSubscription=void 0},t.prototype.notifyComplete=function(){this.innerSubscription=void 0,this.isStopped&&r.prototype._complete.call(this)},t.prototype.notifyNext=function(e){this.destination.next(e)},t}(Uo.SimpleOuterSubscriber)});var za=c(Bo=>{"use strict";Object.defineProperty(Bo,"__esModule",{value:!0});var f1=Qr(),l1=V();function p1(){return f1.switchMap(l1.identity)}Bo.switchAll=p1});var Ya=c(Lo=>{"use strict";Object.defineProperty(Lo,"__esModule",{value:!0});var Ga=Qr();function h1(r,t){return t?Ga.switchMap(function(){return r},t):Ga.switchMap(function(){return r})}Lo.switchMapTo=h1});var Qa=c(tr=>{"use strict";var b1=tr&&tr.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(tr,"__esModule",{value:!0});var zo=y();function _1(r){return function(t){return t.lift(new v1(r))}}tr.takeUntil=_1;var v1=function(){function r(t){this.notifier=t}return r.prototype.call=function(t,e){var n=new d1(t),i=zo.innerSubscribe(this.notifier,new zo.SimpleInnerSubscriber(n));return i&&!n.seenValue?(n.add(i),e.subscribe(n)):n},r}(),d1=function(r){b1(t,r);function t(e){var n=r.call(this,e)||this;return n.seenValue=!1,n}return t.prototype.notifyNext=function(){this.seenValue=!0,this.complete()},t.prototype.notifyComplete=function(){},t}(zo.SimpleOuterSubscriber)});var Ha=c(rr=>{"use strict";var y1=rr&&rr.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(rr,"__esModule",{value:!0});var m1=_();function S1(r,t){return t===void 0&&(t=!1),function(e){return e.lift(new O1(r,t))}}rr.takeWhile=S1;var O1=function(){function r(t,e){this.predicate=t,this.inclusive=e}return r.prototype.call=function(t,e){return e.subscribe(new w1(t,this.predicate,this.inclusive))},r}(),w1=function(r){y1(t,r);function t(e,n,i){var o=r.call(this,e)||this;return o.predicate=n,o.inclusive=i,o.index=0,o}return t.prototype._next=function(e){var n=this.destination,i;try{i=this.predicate(e,this.index++)}catch(o){n.error(o);return}this.nextOrComplete(e,i)},t.prototype.nextOrComplete=function(e,n){var i=this.destination;Boolean(n)?i.next(e):(this.inclusive&&i.next(e),i.complete())},t}(m1.Subscriber)});var Ka=c(nr=>{"use strict";var g1=nr&&nr.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(nr,"__esModule",{value:!0});var x1=_(),B=Cr(),q1=ue();function j1(r,t,e){return function(i){return i.lift(new P1(r,t,e))}}nr.tap=j1;var P1=function(){function r(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}return r.prototype.call=function(t,e){return e.subscribe(new E1(t,this.nextOrObserver,this.error,this.complete))},r}(),E1=function(r){g1(t,r);function t(e,n,i,o){var u=r.call(this,e)||this;return u._tapNext=B.noop,u._tapError=B.noop,u._tapComplete=B.noop,u._tapError=i||B.noop,u._tapComplete=o||B.noop,q1.isFunction(n)?(u._context=u,u._tapNext=n):n&&(u._context=n,u._tapNext=n.next||B.noop,u._tapError=n.error||B.noop,u._tapComplete=n.complete||B.noop),u}return t.prototype._next=function(e){try{this._tapNext.call(this._context,e)}catch(n){this.destination.error(n);return}this.destination.next(e)},t.prototype._error=function(e){try{this._tapError.call(this._context,e)}catch(n){this.destination.error(n);return}this.destination.error(e)},t.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(e){this.destination.error(e);return}return this.destination.complete()},t}(x1.Subscriber)});var Yo=c(ne=>{"use strict";var A1=ne&&ne.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(ne,"__esModule",{value:!0});var Go=y();ne.defaultThrottleConfig={leading:!0,trailing:!1};function T1(r,t){return t===void 0&&(t=ne.defaultThrottleConfig),function(e){return e.lift(new M1(r,!!t.leading,!!t.trailing))}}ne.throttle=T1;var M1=function(){function r(t,e,n){this.durationSelector=t,this.leading=e,this.trailing=n}return r.prototype.call=function(t,e){return e.subscribe(new C1(t,this.durationSelector,this.leading,this.trailing))},r}(),C1=function(r){A1(t,r);function t(e,n,i,o){var u=r.call(this,e)||this;return u.destination=e,u.durationSelector=n,u._leading=i,u._trailing=o,u._hasValue=!1,u}return t.prototype._next=function(e){this._hasValue=!0,this._sendValue=e,this._throttled||(this._leading?this.send():this.throttle(e))},t.prototype.send=function(){var e=this,n=e._hasValue,i=e._sendValue;n&&(this.destination.next(i),this.throttle(i)),this._hasValue=!1,this._sendValue=void 0},t.prototype.throttle=function(e){var n=this.tryDurationSelector(e);n&&this.add(this._throttled=Go.innerSubscribe(n,new Go.SimpleInnerSubscriber(this)))},t.prototype.tryDurationSelector=function(e){try{return this.durationSelector(e)}catch(n){return this.destination.error(n),null}},t.prototype.throttlingDone=function(){var e=this,n=e._throttled,i=e._trailing;n&&n.unsubscribe(),this._throttled=void 0,i&&this.send()},t.prototype.notifyNext=function(){this.throttlingDone()},t.prototype.notifyComplete=function(){this.throttlingDone()},t}(Go.SimpleOuterSubscriber)});var Ja=c(ir=>{"use strict";var I1=ir&&ir.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(ir,"__esModule",{value:!0});var N1=_(),R1=x(),k1=Yo();function V1(r,t,e){return t===void 0&&(t=R1.async),e===void 0&&(e=k1.defaultThrottleConfig),function(n){return n.lift(new W1(r,t,e.leading,e.trailing))}}ir.throttleTime=V1;var W1=function(){function r(t,e,n,i){this.duration=t,this.scheduler=e,this.leading=n,this.trailing=i}return r.prototype.call=function(t,e){return e.subscribe(new F1(t,this.duration,this.scheduler,this.leading,this.trailing))},r}(),F1=function(r){I1(t,r);function t(e,n,i,o,u){var s=r.call(this,e)||this;return s.duration=n,s.scheduler=i,s.leading=o,s.trailing=u,s._hasTrailingValue=!1,s._trailingValue=null,s}return t.prototype._next=function(e){this.throttled?this.trailing&&(this._trailingValue=e,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(D1,this.duration,{subscriber:this})),this.leading?this.destination.next(e):this.trailing&&(this._trailingValue=e,this._hasTrailingValue=!0))},t.prototype._complete=function(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()},t.prototype.clearThrottle=function(){var e=this.throttled;e&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),e.unsubscribe(),this.remove(e),this.throttled=null)},t}(N1.Subscriber);function D1(r){var t=r.subscriber;t.clearThrottle()}});var $a=c(Hr=>{"use strict";Object.defineProperty(Hr,"__esModule",{value:!0});var U1=x(),B1=Gr(),L1=Vr(),z1=j();function G1(r){return r===void 0&&(r=U1.async),function(t){return L1.defer(function(){return t.pipe(B1.scan(function(e,n){var i=e.current;return{value:n,current:r.now(),last:i}},{current:r.now(),value:void 0,last:void 0}),z1.map(function(e){var n=e.current,i=e.last,o=e.value;return new Za(o,n-i)}))})}}Hr.timeInterval=G1;var Za=function(){function r(t,e){this.value=t,this.interval=e}return r}();Hr.TimeInterval=Za});var Ho=c(or=>{"use strict";var Y1=or&&or.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(or,"__esModule",{value:!0});var Q1=x(),H1=ro(),Qo=y();function K1(r,t,e){return e===void 0&&(e=Q1.async),function(n){var i=H1.isDate(r),o=i?+r-e.now():Math.abs(r);return n.lift(new J1(o,i,t,e))}}or.timeoutWith=K1;var J1=function(){function r(t,e,n,i){this.waitFor=t,this.absoluteTimeout=e,this.withObservable=n,this.scheduler=i}return r.prototype.call=function(t,e){return e.subscribe(new Z1(t,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))},r}(),Z1=function(r){Y1(t,r);function t(e,n,i,o,u){var s=r.call(this,e)||this;return s.absoluteTimeout=n,s.waitFor=i,s.withObservable=o,s.scheduler=u,s.scheduleTimeout(),s}return t.dispatchTimeout=function(e){var n=e.withObservable;e._unsubscribeAndRecycle(),e.add(Qo.innerSubscribe(n,new Qo.SimpleInnerSubscriber(e)))},t.prototype.scheduleTimeout=function(){var e=this.action;e?this.action=e.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(t.dispatchTimeout,this.waitFor,this))},t.prototype._next=function(e){this.absoluteTimeout||this.scheduleTimeout(),r.prototype._next.call(this,e)},t.prototype._unsubscribe=function(){this.action=void 0,this.scheduler=null,this.withObservable=null},t}(Qo.SimpleOuterSubscriber)});var Xa=c(Ko=>{"use strict";Object.defineProperty(Ko,"__esModule",{value:!0});var $1=x(),X1=Kn(),eg=Ho(),tg=Er();function rg(r,t){return t===void 0&&(t=$1.async),eg.timeoutWith(r,tg.throwError(new X1.TimeoutError),t)}Ko.timeout=rg});var tf=c(Kr=>{"use strict";Object.defineProperty(Kr,"__esModule",{value:!0});var ng=x(),ig=j();function og(r){return r===void 0&&(r=ng.async),ig.map(function(t){return new ef(t,r.now())})}Kr.timestamp=og;var ef=function(){function r(t,e){this.value=t,this.timestamp=e}return r}();Kr.Timestamp=ef});var rf=c(Jo=>{"use strict";Object.defineProperty(Jo,"__esModule",{value:!0});var ug=Dt();function sg(r,t,e){return e===0?[t]:(r.push(t),r)}function cg(){return ug.reduce(sg,[])}Jo.toArray=cg});var of=c(ur=>{"use strict";var ag=ur&&ur.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(ur,"__esModule",{value:!0});var nf=w(),Zo=y();function fg(r){return function(e){return e.lift(new lg(r))}}ur.window=fg;var lg=function(){function r(t){this.windowBoundaries=t}return r.prototype.call=function(t,e){var n=new pg(t),i=e.subscribe(n);return i.closed||n.add(Zo.innerSubscribe(this.windowBoundaries,new Zo.SimpleInnerSubscriber(n))),i},r}(),pg=function(r){ag(t,r);function t(e){var n=r.call(this,e)||this;return n.window=new nf.Subject,e.next(n.window),n}return t.prototype.notifyNext=function(){this.openWindow()},t.prototype.notifyError=function(e){this._error(e)},t.prototype.notifyComplete=function(){this._complete()},t.prototype._next=function(e){this.window.next(e)},t.prototype._error=function(e){this.window.error(e),this.destination.error(e)},t.prototype._complete=function(){this.window.complete(),this.destination.complete()},t.prototype._unsubscribe=function(){this.window=null},t.prototype.openWindow=function(){var e=this.window;e&&e.complete();var n=this.destination,i=this.window=new nf.Subject;n.next(i)},t}(Zo.SimpleOuterSubscriber)});var sf=c(sr=>{"use strict";var hg=sr&&sr.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(sr,"__esModule",{value:!0});var bg=_(),uf=w();function _g(r,t){return t===void 0&&(t=0),function(n){return n.lift(new vg(r,t))}}sr.windowCount=_g;var vg=function(){function r(t,e){this.windowSize=t,this.startWindowEvery=e}return r.prototype.call=function(t,e){return e.subscribe(new dg(t,this.windowSize,this.startWindowEvery))},r}(),dg=function(r){hg(t,r);function t(e,n,i){var o=r.call(this,e)||this;return o.destination=e,o.windowSize=n,o.startWindowEvery=i,o.windows=[new uf.Subject],o.count=0,e.next(o.windows[0]),o}return t.prototype._next=function(e){for(var n=this.startWindowEvery>0?this.startWindowEvery:this.windowSize,i=this.destination,o=this.windowSize,u=this.windows,s=u.length,f=0;f<s&&!this.closed;f++)u[f].next(e);var a=this.count-o+1;if(a>=0&&a%n===0&&!this.closed&&u.shift().complete(),++this.count%n===0&&!this.closed){var p=new uf.Subject;u.push(p),i.next(p)}},t.prototype._error=function(e){var n=this.windows;if(n)for(;n.length>0&&!this.closed;)n.shift().error(e);this.destination.error(e)},t.prototype._complete=function(){var e=this.windows;if(e)for(;e.length>0&&!this.closed;)e.shift().complete();this.destination.complete()},t.prototype._unsubscribe=function(){this.count=0,this.windows=null},t}(bg.Subscriber)});var lf=c(cr=>{"use strict";var af=cr&&cr.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(cr,"__esModule",{value:!0});var yg=w(),mg=x(),Sg=_(),cf=ct(),$o=E();function Og(r){var t=mg.async,e=null,n=Number.POSITIVE_INFINITY;return $o.isScheduler(arguments[3])&&(t=arguments[3]),$o.isScheduler(arguments[2])?t=arguments[2]:cf.isNumeric(arguments[2])&&(n=Number(arguments[2])),$o.isScheduler(arguments[1])?t=arguments[1]:cf.isNumeric(arguments[1])&&(e=Number(arguments[1])),function(o){return o.lift(new wg(r,e,n,t))}}cr.windowTime=Og;var wg=function(){function r(t,e,n,i){this.windowTimeSpan=t,this.windowCreationInterval=e,this.maxWindowSize=n,this.scheduler=i}return r.prototype.call=function(t,e){return e.subscribe(new xg(t,this.windowTimeSpan,this.windowCreationInterval,this.maxWindowSize,this.scheduler))},r}(),gg=function(r){af(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e._numberOfNextedValues=0,e}return t.prototype.next=function(e){this._numberOfNextedValues++,r.prototype.next.call(this,e)},Object.defineProperty(t.prototype,"numberOfNextedValues",{get:function(){return this._numberOfNextedValues},enumerable:!0,configurable:!0}),t}(yg.Subject),xg=function(r){af(t,r);function t(e,n,i,o,u){var s=r.call(this,e)||this;s.destination=e,s.windowTimeSpan=n,s.windowCreationInterval=i,s.maxWindowSize=o,s.scheduler=u,s.windows=[];var f=s.openWindow();if(i!==null&&i>=0){var a={subscriber:s,window:f,context:null},p={windowTimeSpan:n,windowCreationInterval:i,subscriber:s,scheduler:u};s.add(u.schedule(ff,n,a)),s.add(u.schedule(jg,i,p))}else{var b={subscriber:s,window:f,windowTimeSpan:n};s.add(u.schedule(qg,n,b))}return s}return t.prototype._next=function(e){for(var n=this.windows,i=n.length,o=0;o<i;o++){var u=n[o];u.closed||(u.next(e),u.numberOfNextedValues>=this.maxWindowSize&&this.closeWindow(u))}},t.prototype._error=function(e){for(var n=this.windows;n.length>0;)n.shift().error(e);this.destination.error(e)},t.prototype._complete=function(){for(var e=this.windows;e.length>0;){var n=e.shift();n.closed||n.complete()}this.destination.complete()},t.prototype.openWindow=function(){var e=new gg;this.windows.push(e);var n=this.destination;return n.next(e),e},t.prototype.closeWindow=function(e){e.complete();var n=this.windows;n.splice(n.indexOf(e),1)},t}(Sg.Subscriber);function qg(r){var t=r.subscriber,e=r.windowTimeSpan,n=r.window;n&&t.closeWindow(n),r.window=t.openWindow(),this.schedule(r,e)}function jg(r){var t=r.windowTimeSpan,e=r.subscriber,n=r.scheduler,i=r.windowCreationInterval,o=e.openWindow(),u=this,s={action:u,subscription:null},f={subscriber:e,window:o,context:s};s.subscription=n.schedule(ff,t,f),u.add(s.subscription),u.schedule(r,i)}function ff(r){var t=r.subscriber,e=r.window,n=r.context;n&&n.action&&n.subscription&&n.action.remove(n.subscription),t.closeWindow(e)}});var hf=c(ar=>{"use strict";var Pg=ar&&ar.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(ar,"__esModule",{value:!0});var Eg=w(),Ag=O(),Tg=F(),pf=D();function Mg(r,t){return function(e){return e.lift(new Cg(r,t))}}ar.windowToggle=Mg;var Cg=function(){function r(t,e){this.openings=t,this.closingSelector=e}return r.prototype.call=function(t,e){return e.subscribe(new Ig(t,this.openings,this.closingSelector))},r}(),Ig=function(r){Pg(t,r);function t(e,n,i){var o=r.call(this,e)||this;return o.openings=n,o.closingSelector=i,o.contexts=[],o.add(o.openSubscription=pf.subscribeToResult(o,n,n)),o}return t.prototype._next=function(e){var n=this.contexts;if(n)for(var i=n.length,o=0;o<i;o++)n[o].window.next(e)},t.prototype._error=function(e){var n=this.contexts;if(this.contexts=null,n)for(var i=n.length,o=-1;++o<i;){var u=n[o];u.window.error(e),u.subscription.unsubscribe()}r.prototype._error.call(this,e)},t.prototype._complete=function(){var e=this.contexts;if(this.contexts=null,e)for(var n=e.length,i=-1;++i<n;){var o=e[i];o.window.complete(),o.subscription.unsubscribe()}r.prototype._complete.call(this)},t.prototype._unsubscribe=function(){var e=this.contexts;if(this.contexts=null,e)for(var n=e.length,i=-1;++i<n;){var o=e[i];o.window.unsubscribe(),o.subscription.unsubscribe()}},t.prototype.notifyNext=function(e,n,i,o,u){if(e===this.openings){var s=void 0;try{var f=this.closingSelector;s=f(n)}catch(q){return this.error(q)}var a=new Eg.Subject,p=new Ag.Subscription,b={window:a,subscription:p};this.contexts.push(b);var v=pf.subscribeToResult(this,s,b);v.closed?this.closeWindow(this.contexts.length-1):(v.context=b,p.add(v)),this.destination.next(a)}else this.closeWindow(this.contexts.indexOf(e))},t.prototype.notifyError=function(e){this.error(e)},t.prototype.notifyComplete=function(e){e!==this.openSubscription&&this.closeWindow(this.contexts.indexOf(e.context))},t.prototype.closeWindow=function(e){if(e!==-1){var n=this.contexts,i=n[e],o=i.window,u=i.subscription;n.splice(e,1),o.complete(),u.unsubscribe()}},t}(Tg.OuterSubscriber)});var bf=c(fr=>{"use strict";var Ng=fr&&fr.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(fr,"__esModule",{value:!0});var Rg=w(),kg=F(),Vg=D();function Wg(r){return function(e){return e.lift(new Fg(r))}}fr.windowWhen=Wg;var Fg=function(){function r(t){this.closingSelector=t}return r.prototype.call=function(t,e){return e.subscribe(new Dg(t,this.closingSelector))},r}(),Dg=function(r){Ng(t,r);function t(e,n){var i=r.call(this,e)||this;return i.destination=e,i.closingSelector=n,i.openWindow(),i}return t.prototype.notifyNext=function(e,n,i,o,u){this.openWindow(u)},t.prototype.notifyError=function(e){this._error(e)},t.prototype.notifyComplete=function(e){this.openWindow(e)},t.prototype._next=function(e){this.window.next(e)},t.prototype._error=function(e){this.window.error(e),this.destination.error(e),this.unsubscribeClosingNotification()},t.prototype._complete=function(){this.window.complete(),this.destination.complete(),this.unsubscribeClosingNotification()},t.prototype.unsubscribeClosingNotification=function(){this.closingNotification&&this.closingNotification.unsubscribe()},t.prototype.openWindow=function(e){e===void 0&&(e=null),e&&(this.remove(e),e.unsubscribe());var n=this.window;n&&n.complete();var i=this.window=new Rg.Subject;this.destination.next(i);var o;try{var u=this.closingSelector;o=u()}catch(s){this.destination.error(s),this.window.error(s);return}this.add(this.closingNotification=Vg.subscribeToResult(this,o))},t}(kg.OuterSubscriber)});var _f=c(lr=>{"use strict";var Ug=lr&&lr.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(lr,"__esModule",{value:!0});var Bg=F(),Lg=D();function zg(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];return function(e){var n;typeof r[r.length-1]=="function"&&(n=r.pop());var i=r;return e.lift(new Gg(i,n))}}lr.withLatestFrom=zg;var Gg=function(){function r(t,e){this.observables=t,this.project=e}return r.prototype.call=function(t,e){return e.subscribe(new Yg(t,this.observables,this.project))},r}(),Yg=function(r){Ug(t,r);function t(e,n,i){var o=r.call(this,e)||this;o.observables=n,o.project=i,o.toRespond=[];var u=n.length;o.values=new Array(u);for(var s=0;s<u;s++)o.toRespond.push(s);for(var s=0;s<u;s++){var f=n[s];o.add(Lg.subscribeToResult(o,f,void 0,s))}return o}return t.prototype.notifyNext=function(e,n,i){this.values[i]=n;var o=this.toRespond;if(o.length>0){var u=o.indexOf(i);u!==-1&&o.splice(u,1)}},t.prototype.notifyComplete=function(){},t.prototype._next=function(e){if(this.toRespond.length===0){var n=[e].concat(this.values);this.project?this._tryProject(n):this.destination.next(n)}},t.prototype._tryProject=function(e){var n;try{n=this.project.apply(this,e)}catch(i){this.destination.error(i);return}this.destination.next(n)},t}(Bg.OuterSubscriber)});var vf=c(Xo=>{"use strict";Object.defineProperty(Xo,"__esModule",{value:!0});var Qg=Br();function Hg(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];return function(n){return n.lift.call(Qg.zip.apply(void 0,[n].concat(r)))}}Xo.zip=Hg});var df=c(eu=>{"use strict";Object.defineProperty(eu,"__esModule",{value:!0});var Kg=Br();function Jg(r){return function(t){return t.lift(new Kg.ZipOperator(r))}}eu.zipAll=Jg});var ge=c(l=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var Zg=Li();l.audit=Zg.audit;var $g=ec();l.auditTime=$g.auditTime;var Xg=tc();l.buffer=Xg.buffer;var ex=ic();l.bufferCount=ex.bufferCount;var tx=sc();l.bufferTime=tx.bufferTime;var rx=ac();l.bufferToggle=rx.bufferToggle;var nx=fc();l.bufferWhen=nx.bufferWhen;var ix=lc();l.catchError=ix.catchError;var ox=pc();l.combineAll=ox.combineAll;var ux=hc();l.combineLatest=ux.combineLatest;var sx=bc();l.concat=sx.concat;var cx=mi();l.concatAll=cx.concatAll;var ax=$i();l.concatMap=ax.concatMap;var fx=_c();l.concatMapTo=fx.concatMapTo;var lx=vc();l.count=lx.count;var px=dc();l.debounce=px.debounce;var hx=yc();l.debounceTime=hx.debounceTime;var bx=Se();l.defaultIfEmpty=bx.defaultIfEmpty;var _x=Sc();l.delay=_x.delay;var vx=wc();l.delayWhen=vx.delayWhen;var dx=gc();l.dematerialize=dx.dematerialize;var yx=qc();l.distinct=yx.distinct;var mx=oo();l.distinctUntilChanged=mx.distinctUntilChanged;var Sx=jc();l.distinctUntilKeyChanged=Sx.distinctUntilKeyChanged;var Ox=Ec();l.elementAt=Ox.elementAt;var wx=Ac();l.endWith=wx.endWith;var gx=Tc();l.every=gx.every;var xx=Mc();l.exhaust=xx.exhaust;var qx=Ic();l.exhaustMap=qx.exhaustMap;var jx=kc();l.expand=jx.expand;var Px=K();l.filter=Px.filter;var Ex=Vc();l.finalize=Ex.finalize;var Ax=po();l.find=Ax.find;var Tx=Dc();l.findIndex=Tx.findIndex;var Mx=Uc();l.first=Mx.first;var Cx=An();l.groupBy=Cx.groupBy;var Ix=Bc();l.ignoreElements=Ix.ignoreElements;var Nx=Lc();l.isEmpty=Nx.isEmpty;var Rx=zc();l.last=Rx.last;var kx=j();l.map=kx.map;var Vx=Gc();l.mapTo=Vx.mapTo;var Wx=Yc();l.materialize=Wx.materialize;var Fx=Jc();l.max=Fx.max;var Dx=Zc();l.merge=Dx.merge;var Ux=kr();l.mergeAll=Ux.mergeAll;var yf=ut();l.mergeMap=yf.mergeMap;l.flatMap=yf.flatMap;var Bx=Xc();l.mergeMapTo=Bx.mergeMapTo;var Lx=ra();l.mergeScan=Lx.mergeScan;var zx=na();l.min=zx.min;var Gx=te();l.multicast=Gx.multicast;var Yx=Bn();l.observeOn=Yx.observeOn;var Qx=sa();l.onErrorResumeNext=Qx.onErrorResumeNext;var Hx=ca();l.pairwise=Hx.pairwise;var Kx=fa();l.partition=Kx.partition;var Jx=la();l.pluck=Jx.pluck;var Zx=ba();l.publish=Zx.publish;var $x=_a();l.publishBehavior=$x.publishBehavior;var Xx=va();l.publishLast=Xx.publishLast;var eq=da();l.publishReplay=eq.publishReplay;var tq=ya();l.race=tq.race;var rq=Dt();l.reduce=rq.reduce;var nq=Sa();l.repeat=nq.repeat;var iq=Oa();l.repeatWhen=iq.repeatWhen;var oq=wa();l.retry=oq.retry;var uq=ga();l.retryWhen=uq.retryWhen;var sq=qr();l.refCount=sq.refCount;var cq=xa();l.sample=cq.sample;var aq=qa();l.sampleTime=aq.sampleTime;var fq=Gr();l.scan=fq.scan;var lq=Ta();l.sequenceEqual=lq.sequenceEqual;var pq=Ma();l.share=pq.share;var hq=Ca();l.shareReplay=hq.shareReplay;var bq=Ia();l.single=bq.single;var _q=Na();l.skip=_q.skip;var vq=ka();l.skipLast=vq.skipLast;var dq=Va();l.skipUntil=dq.skipUntil;var yq=Wa();l.skipWhile=yq.skipWhile;var mq=Da();l.startWith=mq.startWith;var Sq=Ba();l.subscribeOn=Sq.subscribeOn;var Oq=za();l.switchAll=Oq.switchAll;var wq=Qr();l.switchMap=wq.switchMap;var gq=Ya();l.switchMapTo=gq.switchMapTo;var xq=Lr();l.take=xq.take;var qq=zr();l.takeLast=qq.takeLast;var jq=Qa();l.takeUntil=jq.takeUntil;var Pq=Ha();l.takeWhile=Pq.takeWhile;var Eq=Ka();l.tap=Eq.tap;var Aq=Yo();l.throttle=Aq.throttle;var Tq=Ja();l.throttleTime=Tq.throttleTime;var Mq=Et();l.throwIfEmpty=Mq.throwIfEmpty;var Cq=$a();l.timeInterval=Cq.timeInterval;var Iq=Xa();l.timeout=Iq.timeout;var Nq=Ho();l.timeoutWith=Nq.timeoutWith;var Rq=tf();l.timestamp=Rq.timestamp;var kq=rf();l.toArray=kq.toArray;var Vq=of();l.window=Vq.window;var Wq=sf();l.windowCount=Wq.windowCount;var Fq=lf();l.windowTime=Fq.windowTime;var Dq=hf();l.windowToggle=Dq.windowToggle;var Uq=bf();l.windowWhen=Uq.windowWhen;var Bq=_f();l.withLatestFrom=Bq.withLatestFrom;var Lq=vf();l.zip=Lq.zip;var zq=df();l.zipAll=zq.zipAll});var wf=c(T=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0});var Jr=ge();function Gq(r){return r.pipe(Jr.concatMap(function(t){return t.split("")}),Jr.scan(function(t,e){return t.indexOf("}")>=0?e:t+e},""),Jr.filter(function(t){return t.indexOf("}")>=0}),Jr.map(function(t){return JSON.parse(t)}))}T.parseControl=Gq;function mf(r){for(var t=[],e=0;e<r.length;e++)e%3===0?t.push(r[e]<<4|r[e+1]>>4):(t.push((r[e]&15)<<8|r[e+1]),e++);return t}T.decodeUnsigned12BitData=mf;function Sf(r){for(var t=[],e=0;e<r.length;e=e+3)t.push(r[e]<<16|r[e+1]<<8|r[e+2]);return t}T.decodeUnsigned24BitData=Sf;function Yq(r){return mf(r).map(function(t){return .48828125*(t-2048)})}T.decodeEEGSamples=Yq;function Qq(r){return Sf(r)}T.decodePPGSamples=Qq;function Hq(r){return{sequenceId:r.getUint16(0),batteryLevel:r.getUint16(2)/512,fuelGaugeVoltage:r.getUint16(4)*2.2,temperature:r.getUint16(8)}}T.parseTelemetry=Hq;function Of(r,t){function e(n){return{x:t*r.getInt16(n),y:t*r.getInt16(n+2),z:t*r.getInt16(n+4)}}return{sequenceId:r.getUint16(0),samples:[e(2),e(8),e(14)]}}function Kq(r){return Of(r,610352e-10)}T.parseAccelerometer=Kq;function Jq(r){return Of(r,.0074768)}T.parseGyroscope=Jq});var qf=c(R=>{"use strict";var Zq=R&&R.__awaiter||function(r,t,e,n){return new(e||(e=Promise))(function(i,o){function u(a){try{f(n.next(a))}catch(p){o(p)}}function s(a){try{f(n.throw(a))}catch(p){o(p)}}function f(a){a.done?i(a.value):new e(function(p){p(a.value)}).then(u,s)}f((n=n.apply(r,t||[])).next())})},$q=R&&R.__generator||function(r,t){var e={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,u;return u={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function s(a){return function(p){return f([a,p])}}function f(a){if(n)throw new TypeError("Generator is already executing.");for(;e;)try{if(n=1,i&&(o=a[0]&2?i.return:a[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;switch(i=0,o&&(a=[a[0]&2,o.value]),a[0]){case 0:case 1:o=a;break;case 4:return e.label++,{value:a[1],done:!1};case 5:e.label++,i=a[1],a=[0];continue;case 7:a=e.ops.pop(),e.trys.pop();continue;default:if(o=e.trys,!(o=o.length>0&&o[o.length-1])&&(a[0]===6||a[0]===2)){e=0;continue}if(a[0]===3&&(!o||a[1]>o[0]&&a[1]<o[3])){e.label=a[1];break}if(a[0]===6&&e.label<o[1]){e.label=o[1],o=a;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(a);break}o[2]&&e.ops.pop(),e.trys.pop();continue}a=t.call(r,e)}catch(p){a=[6,p],i=0}finally{n=o=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(R,"__esModule",{value:!0});var gf=lt(),xf=ge();function Xq(r){return new TextDecoder().decode(r.subarray(1,1+r[0]))}R.decodeResponse=Xq;function ej(r){var t=new TextEncoder().encode("X"+r+`
`);return t[0]=t.length-1,t}R.encodeCommand=ej;function tj(r){return Zq(this,void 0,void 0,function(){var t;return $q(this,function(e){switch(e.label){case 0:return[4,r.startNotifications()];case 1:return e.sent(),t=gf.fromEvent(r.service.device,"gattserverdisconnected"),[2,gf.fromEvent(r,"characteristicvaluechanged").pipe(xf.takeUntil(t),xf.map(function(n){return n.target.value}))]}})})}R.observableCharacteristic=tj});var jf=c(ru=>{"use strict";Object.defineProperty(ru,"__esModule",{value:!0});var Zr=lt(),tu=ge(),rj=$r();function nj(r){var t=[],e=null;return r.pipe(tu.mergeMap(function(n){if(n.timestamp!==e&&(e=n.timestamp,t.length)){var i=Zr.from([t.slice()]);return t.splice(0,t.length,n),i}return t.push(n),Zr.from([])}),tu.concat(Zr.from([t])),tu.mergeMap(function(n){var i=n[0].samples.map(function(o,u){for(var s=[NaN,NaN,NaN,NaN,NaN],f=0,a=n;f<a.length;f++){var p=a[f];s[p.electrode]=p.samples[u]}return{data:s,index:n[0].index,timestamp:n[0].timestamp+u*1e3/rj.EEG_FREQUENCY}});return Zr.from(i)}))}ru.zipSamples=nj});var Pf=c(iu=>{"use strict";Object.defineProperty(iu,"__esModule",{value:!0});var Xr=lt(),nu=ge(),ij=$r();function oj(r){var t=[],e=null;return r.pipe(nu.mergeMap(function(n){if(n.timestamp!==e&&(e=n.timestamp,t.length)){var i=Xr.from([t.slice()]);return t.splice(0,t.length,n),i}return t.push(n),Xr.from([])}),nu.concat(Xr.from([t])),nu.mergeMap(function(n){var i=n[0].samples.map(function(o,u){for(var s=[NaN,NaN,NaN],f=0,a=n;f<a.length;f++){var p=a[f];s[p.ppgChannel]=p.samples[u]}return{data:s,index:n[0].index,timestamp:n[0].timestamp+u*1e3/ij.PPG_FREQUENCY}});return Xr.from(i)}))}iu.zipSamplesPpg=oj});var $r=c(m=>{"use strict";var ie=m&&m.__awaiter||function(r,t,e,n){return new(e||(e=Promise))(function(i,o){function u(a){try{f(n.next(a))}catch(p){o(p)}}function s(a){try{f(n.throw(a))}catch(p){o(p)}}function f(a){a.done?i(a.value):new e(function(p){p(a.value)}).then(u,s)}f((n=n.apply(r,t||[])).next())})},k=m&&m.__generator||function(r,t){var e={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,u;return u={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function s(a){return function(p){return f([a,p])}}function f(a){if(n)throw new TypeError("Generator is already executing.");for(;e;)try{if(n=1,i&&(o=a[0]&2?i.return:a[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;switch(i=0,o&&(a=[a[0]&2,o.value]),a[0]){case 0:case 1:o=a;break;case 4:return e.label++,{value:a[1],done:!1};case 5:e.label++,i=a[1],a=[0];continue;case 7:a=e.ops.pop(),e.trys.pop();continue;default:if(o=e.trys,!(o=o.length>0&&o[o.length-1])&&(a[0]===6||a[0]===2)){e=0;continue}if(a[0]===3&&(!o||a[1]>o[0]&&a[1]<o[3])){e.label=a[1];break}if(a[0]===6&&e.label<o[1]){e.label=o[1],o=a;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(a);break}o[2]&&e.ops.pop(),e.trys.pop();continue}a=t.call(r,e)}catch(p){a=[6,p],i=0}finally{n=o=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(m,"__esModule",{value:!0});var pr=lt(),M=ge(),xe=wf(),C=qf(),uj=jf();m.zipSamples=uj.zipSamples;var sj=Pf();m.zipSamplesPpg=sj.zipSamplesPpg;m.MUSE_SERVICE=65165;var cj="273e0001-4c4d-454d-96be-f03bac821358",aj="273e000b-4c4d-454d-96be-f03bac821358",fj="273e0009-4c4d-454d-96be-f03bac821358",lj="273e000a-4c4d-454d-96be-f03bac821358",Ef=["273e000f-4c4d-454d-96be-f03bac821358","273e0010-4c4d-454d-96be-f03bac821358","273e0011-4c4d-454d-96be-f03bac821358"];m.PPG_FREQUENCY=64;m.PPG_SAMPLES_PER_READING=6;var Af=["273e0003-4c4d-454d-96be-f03bac821358","273e0004-4c4d-454d-96be-f03bac821358","273e0005-4c4d-454d-96be-f03bac821358","273e0006-4c4d-454d-96be-f03bac821358","273e0007-4c4d-454d-96be-f03bac821358"];m.EEG_FREQUENCY=256;m.EEG_SAMPLES_PER_READING=12;m.ppgChannelNames=["ambient","infrared","red"];m.channelNames=["TP9","AF7","AF8","TP10","AUX"];var pj=function(){function r(){this.enableAux=!1,this.enablePpg=!1,this.deviceName="",this.connectionStatus=new pr.BehaviorSubject(!1),this.gatt=null,this.lastIndex=null,this.lastTimestamp=null}return r.prototype.connect=function(t){return ie(this,void 0,void 0,function(){var e,n,i,o,u,s,f,a,p,b,v,q,I,oe,ou,hr,en,uu,su,cu,br,_r=this;return k(this,function(S){switch(S.label){case 0:return t?(this.gatt=t,[3,4]):[3,1];case 1:return[4,navigator.bluetooth.requestDevice({filters:[{services:[m.MUSE_SERVICE]}]})];case 2:return e=S.sent(),n=this,[4,e.gatt.connect()];case 3:n.gatt=S.sent(),S.label=4;case 4:return this.deviceName=this.gatt.device.name||null,[4,this.gatt.getPrimaryService(m.MUSE_SERVICE)];case 5:return i=S.sent(),pr.fromEvent(this.gatt.device,"gattserverdisconnected").pipe(M.first()).subscribe(function(){_r.gatt=null,_r.connectionStatus.next(!1)}),o=this,[4,i.getCharacteristic(cj)];case 6:return o.controlChar=S.sent(),u=this,[4,C.observableCharacteristic(this.controlChar)];case 7:return u.rawControlData=S.sent().pipe(M.map(function(L){return C.decodeResponse(new Uint8Array(L.buffer))}),M.share()),this.controlResponses=xe.parseControl(this.rawControlData),[4,i.getCharacteristic(aj)];case 8:return s=S.sent(),f=this,[4,C.observableCharacteristic(s)];case 9:return f.telemetryData=S.sent().pipe(M.map(xe.parseTelemetry)),[4,i.getCharacteristic(fj)];case 10:return a=S.sent(),p=this,[4,C.observableCharacteristic(a)];case 11:return p.gyroscopeData=S.sent().pipe(M.map(xe.parseGyroscope)),[4,i.getCharacteristic(lj)];case 12:return b=S.sent(),v=this,[4,C.observableCharacteristic(b)];case 13:if(v.accelerometerData=S.sent().pipe(M.map(xe.parseAccelerometer)),this.eventMarkers=new pr.Subject,!this.enablePpg)return[3,18];this.ppgCharacteristics=[],q=[],I=Ef.length,oe=function(L){var qe,z,je,Pe;return k(this,function(G){switch(G.label){case 0:return qe=Ef[L],[4,i.getCharacteristic(qe)];case 1:return z=G.sent(),Pe=(je=q).push,[4,C.observableCharacteristic(z)];case 2:return Pe.apply(je,[G.sent().pipe(M.map(function(Ee){var Ae=Ee.getUint16(0);return{index:Ae,ppgChannel:L,samples:xe.decodePPGSamples(new Uint8Array(Ee.buffer).subarray(2)),timestamp:_r.getTimestamp(Ae,m.PPG_SAMPLES_PER_READING,m.PPG_FREQUENCY)}}))]),ou.ppgCharacteristics.push(z),[2]}})},ou=this,hr=0,S.label=14;case 14:return hr<I?[5,oe(hr)]:[3,17];case 15:S.sent(),S.label=16;case 16:return hr++,[3,14];case 17:this.ppgReadings=pr.merge.apply(void 0,q),S.label=18;case 18:this.eegCharacteristics=[],en=[],uu=this.enableAux?Af.length:4,su=function(L){var qe,z,je,Pe;return k(this,function(G){switch(G.label){case 0:return qe=Af[L],[4,i.getCharacteristic(qe)];case 1:return z=G.sent(),Pe=(je=en).push,[4,C.observableCharacteristic(z)];case 2:return Pe.apply(je,[G.sent().pipe(M.map(function(Ee){var Ae=Ee.getUint16(0);return{electrode:L,index:Ae,samples:xe.decodeEEGSamples(new Uint8Array(Ee.buffer).subarray(2)),timestamp:_r.getTimestamp(Ae,m.EEG_SAMPLES_PER_READING,m.EEG_FREQUENCY)}}))]),cu.eegCharacteristics.push(z),[2]}})},cu=this,br=0,S.label=19;case 19:return br<uu?[5,su(br)]:[3,22];case 20:S.sent(),S.label=21;case 21:return br++,[3,19];case 22:return this.eegReadings=pr.merge.apply(void 0,en),this.connectionStatus.next(!0),[2]}})})},r.prototype.sendCommand=function(t){return ie(this,void 0,void 0,function(){return k(this,function(e){switch(e.label){case 0:return[4,this.controlChar.writeValue(C.encodeCommand(t))];case 1:return e.sent(),[2]}})})},r.prototype.start=function(){return ie(this,void 0,void 0,function(){var t;return k(this,function(e){switch(e.label){case 0:return[4,this.pause()];case 1:return e.sent(),t="p21",this.enablePpg?t="p50":this.enableAux&&(t="p20"),[4,this.controlChar.writeValue(C.encodeCommand(t))];case 2:return e.sent(),[4,this.controlChar.writeValue(C.encodeCommand("s"))];case 3:return e.sent(),[4,this.resume()];case 4:return e.sent(),[2]}})})},r.prototype.pause=function(){return ie(this,void 0,void 0,function(){return k(this,function(t){switch(t.label){case 0:return[4,this.sendCommand("h")];case 1:return t.sent(),[2]}})})},r.prototype.resume=function(){return ie(this,void 0,void 0,function(){return k(this,function(t){switch(t.label){case 0:return[4,this.sendCommand("d")];case 1:return t.sent(),[2]}})})},r.prototype.deviceInfo=function(){return ie(this,void 0,void 0,function(){var t;return k(this,function(e){switch(e.label){case 0:return t=this.controlResponses.pipe(M.filter(function(n){return!!n.fw}),M.take(1)).toPromise(),[4,this.sendCommand("v1")];case 1:return e.sent(),[2,t]}})})},r.prototype.injectMarker=function(t,e){return e===void 0&&(e=new Date().getTime()),ie(this,void 0,void 0,function(){return k(this,function(n){switch(n.label){case 0:return[4,this.eventMarkers.next({value:t,timestamp:e})];case 1:return n.sent(),[2]}})})},r.prototype.disconnect=function(){this.gatt&&(this.lastIndex=null,this.lastTimestamp=null,this.gatt.disconnect(),this.connectionStatus.next(!1))},r.prototype.getTimestamp=function(t,e,n){var i=1e3*(1/n)*e;for((this.lastIndex===null||this.lastTimestamp===null)&&(this.lastIndex=t,this.lastTimestamp=new Date().getTime()-i);this.lastIndex-t>4096;)t+=65536;return t===this.lastIndex?this.lastTimestamp:t>this.lastIndex?(this.lastTimestamp+=i*(t-this.lastIndex),this.lastIndex=t,this.lastTimestamp):this.lastTimestamp-i*(this.lastIndex-t)},r}();m.MuseClient=pj});var hj=kf($r(),1);var export_MuseClient=hj.MuseClient;export{export_MuseClient as MuseClient};
